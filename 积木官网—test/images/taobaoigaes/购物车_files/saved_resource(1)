!function(a,b){function c(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),e>d)return-1;if(d>e)return 1}return 0}var d=a.Promise,e=a.document,f=a.navigator.userAgent,g=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(f)||/Windows\sNT\s[\d\.]+/i.test(f),h=g&&a.WindVane_Win_Private&&a.WindVane_Win_Private.call,i=/iPhone|iPad|iPod/i.test(f),j=/Android/i.test(f),k=f.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),l=Object.prototype.hasOwnProperty,m=b.windvane=a.WindVane||(a.WindVane={version:"3.0.4"}),n=Math.floor(65536*Math.random()),o=1,p=[],q=3,r="hybrid",s="wv_hybrid",t="iframe_",u="param_",v=6e5,w=6e4;k=k?(k[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var x={isAvailable:1===c(k,"0"),isNewBridgeAvailable:1===c(k,j?"8.3.0":"8.2.0"),call2:function(a,b,c,d,e){var f=a.indexOf(".");return x.call(a.substr(0,f),a.substr(f+1),b,c,d,e)},call:function(b,c,e,f,g,h){var i,j;if("number"==typeof arguments[arguments.length-1]&&(h=arguments[arguments.length-1]),"function"!=typeof f&&(f=null),"function"!=typeof g&&(g=null),!d||f||g||(j=new d(function(a,b){f=a,g=b})),x.isNewBridgeAvailable&&a.__windvane__&&a.__windvane__.call)return a.__windvane__.call(b+"."+c,e,f,g,h),j;i=y.getSid();var k={success:f,failure:g};return h>0&&(k.timeout=setTimeout(function(){x.onFailure(i,{ret:"HY_TIMEOUT"})},h)),y.registerCall(i,k),y.registerGC(i,h),x.isAvailable?y.callMethod(b,c,e,i):x.onFailure(i,{ret:"HY_NOT_IN_WINDVANE"}),j},fireEvent:function(a,b,c){var d=e.createEvent("HTMLEvents");d.initEvent(a,!1,!0),d.param=y.parseData(b),e.dispatchEvent(d)},getParam:function(a){return y.getParam(a)},setData:function(a,b){},find:function(a,b){b||y.unregisterCall(a,!1)},onSuccess:function(a,b,c){y.onComplete(a,b,"success",c)},onFailure:function(a,b){y.onComplete(a,b,"failure")}};x.isNewBridgeAvailable&&a.__windvane__&&a.__windvane__.callSync&&(x.callSync=function(b,c){if(i)return a.__windvane__.callSync(b,c);if(j){var d={name:b};c&&(d.params=JSON.stringify(c));var e=a.__windvane__.callSync(d);if(e)try{return JSON.parse(e)}catch(f){}}});var y={params:{},calls:{},getSid:function(){return(n+o++)%65536+""},buildParam:function(a){return a&&"object"==typeof a?JSON.stringify(a):a||""},getParam:function(a){return this.params[u+a]||""},setParam:function(a,b){this.params[u+a]=b},parseData:function(a){var b;if(a&&"string"==typeof a)try{b=JSON.parse(a)}catch(c){b={ret:"HY_RESULT_PARSE_ERROR",originValue:a}}else b=a||{};return b},registerCall:function(a,b){this.calls[a]=b},unregisterCall:function(a,b){var c=this.calls[a]||{},d=c.timeout;return d&&clearTimeout(d),b||delete this.calls[a],c},useIframe:function(a,b){var c=t+a,d=p.pop();d||(d=e.createElement("iframe"),d.setAttribute("frameborder","0"),d.style.cssText="width:0;height:0;border:0;display:none;"),d.setAttribute("id",c),d.setAttribute("src",b),d.parentNode||setTimeout(function(){e.body.appendChild(d)},5)},retrieveIframe:function(a){var b=t+a,c=e.querySelector("#"+b);if(c)if(p.length>=q)try{e.body.removeChild(c)}catch(d){}else p.indexOf(c)<0&&p.push(c)},callMethod:function(b,c,d,e){var f=y.buildParam(d);if(g)h?a.WindVane_Win_Private.call(b,c,e,f):this.onComplete(e,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else if(i){this.setParam(e,f);var k=r+"://"+b+":"+e+"/"+c+"?"+encodeURIComponent(f);this.useIframe(e,k)}else if(j){this.setParam(e,d);var k=r+"://"+b+":"+e+"/"+c+"?"+f,l=s+":";window.prompt(k,l)}else this.onComplete(e,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")},registerGC:function(a,b){var c=this,d=Math.max(b||0,v),e=Math.max(b||0,w);setTimeout(function(){c.unregisterCall(a)},d),i&&setTimeout(function(){c.params[u+a]&&delete c.params[u+a]},e)},onComplete:function(a,b,c,d){var e=this.unregisterCall(a,d),f=e.success,g=e.failure;b=this.parseData(b);var h=b.ret;"string"==typeof h&&(b=b.value||b,b.ret||(b.ret=[h])),"success"===c?f&&f(b):"failure"===c&&g&&g(b),i&&(this.retrieveIframe(a),this.params[u+a]&&delete this.params[u+a])}};for(var z in x)l.call(m,z)||(m[z]=x[z])}(window,window.lib||(window.lib={}));!function(a,b){function c(a){Object.defineProperty(this,"val",{value:a.toString(),enumerable:!0}),this.gt=function(a){return c.compare(this,a)>0},this.gte=function(a){return c.compare(this,a)>=0},this.lt=function(a){return c.compare(this,a)<0},this.lte=function(a){return c.compare(this,a)<=0},this.eq=function(a){return 0===c.compare(this,a)}}b.env=b.env||{},c.prototype.toString=function(){return this.val},c.prototype.valueOf=function(){for(var a=this.val.split("."),b=[],c=0;c<a.length;c++){var d=parseInt(a[c],10);isNaN(d)&&(d=0);var e=d.toString();e.length<5&&(e=Array(6-e.length).join("0")+e),b.push(e),1===b.length&&b.push(".")}return parseFloat(b.join(""))},c.compare=function(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),e>d)return-1;if(d>e)return 1}return 0},b.version=function(a){return new c(a)}}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.location.search.replace(/^\?/,"");if(b.env.params={},c)for(var d=c.split("&"),e=0;e<d.length;e++){d[e]=d[e].split("=");try{b.env.params[d[e][0]]=decodeURIComponent(d[e][1])}catch(f){b.env.params[d[e][0]]=d[e][1]}}}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;if(c=d.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))b.env.os={name:"Windows Phone",isWindowsPhone:!0,version:c[1]};else if(d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/)))b.env.os={version:c[1]},d.match(/Mobile\s+Safari/)?(b.env.os.name="Android",b.env.os.isAndroid=!0):(b.env.os.name="AndroidPad",b.env.os.isAndroidPad=!0);else if(c=d.match(/(iPhone|iPad|iPod)/)){var e=c[1];(c=d.match(/OS ([\d_\.]+) like Mac OS X/))&&(b.env.os={name:e,isIPhone:"iPhone"===e||"iPod"===e,isIPad:"iPad"===e,isIOS:!0,version:c[1].split("_").join(".")})}b.env.os||(b.env.os={name:"unknown",version:"0.0.0"}),b.version&&(b.env.os.version=b.version(b.env.os.version))}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;(c=d.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?b.env.browser={name:"UC",isUC:!0,version:c[1]}:(c=d.match(/MQQBrowser\/([\d\.]+)/))?b.env.browser={name:"QQ",isQQ:!0,version:c[1]}:(c=d.match(/(?:Firefox|FxiOS)\/([\d\.]+)/))?b.env.browser={name:"Firefox",isFirefox:!0,version:c[1]}:(c=d.match(/MSIE\s([\d\.]+)/))||(c=d.match(/IEMobile\/([\d\.]+)/))?(b.env.browser={version:c[1]},d.match(/IEMobile/)?(b.env.browser.name="IEMobile",b.env.browser.isIEMobile=!0):(b.env.browser.name="IE",b.env.browser.isIE=!0),d.match(/Android|iPhone/)&&(b.env.browser.isIELikeWebkit=!0)):(c=d.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(b.env.browser={name:"Chrome",isChrome:!0,version:c[1]},d.match(/Version\/[\d+\.]+\s*Chrome/)&&(b.env.browser.name="Chrome Webview",b.env.browser.isWebview=!0)):d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/))?b.env.browser={name:"Android",isAndroid:!0,version:c[1]}:d.match(/iPhone|iPad|iPod/)&&(d.match(/Safari/)&&(c=d.match(/Version\/([\d\.]+)/))?b.env.browser={name:"Safari",isSafari:!0,version:c[1]}:(c=d.match(/OS ([\d_\.]+) like Mac OS X/))&&(b.env.browser={name:"iOS Webview",isWebview:!0,version:c[1].replace(/\_/g,".")})),b.env.browser||(b.env.browser={name:"unknown",version:"0.0.0"}),b.version&&(b.env.browser.version=b.version(b.env.browser.version))}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.navigator.userAgent;c.match(/Weibo/i)?b.env.thirdapp={appname:"Weibo",isWeibo:!0}:c.match(/MicroMessenger/i)?b.env.thirdapp={appname:"Weixin",isWeixin:!0}:b.env.thirdapp=!1}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d,e=a.navigator.userAgent;(d=e.match(/WindVane[\/\s]([\d\.\_]+)/))&&(c=d[1]);var f=!1,g="",h="",i="",j=a._ua_popLayer||"",k=!1,l="";(d=e.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(f=!0,g=d[1],i=d[2],h=g.indexOf("-PD")>0?b.env.os.isIOS?"iPad":b.env.os.isAndroid?"AndroidPad":b.env.os.name:b.env.os.name),!g&&e.indexOf("TBIOS")>0&&(g="TB"),j&&(d=j.match(/PopLayer\/([\d\.]+)/i))&&(k=!0,l=d[1]),f?b.env.aliapp={windvane:b.version(c||"0.0.0"),appname:g||"unkown",version:b.version(i||"0.0.0"),platform:h||b.env.os.name,poplayer:k||!1,poplayerVersion:b.version(l||"0.0.0")}:b.env.aliapp=!1,b.env.taobaoApp=b.env.aliapp}(window,window.lib||(window.lib={}));!function(a,b){function c(){var a={},b=new q(function(b,c){a.resolve=b,a.reject=c});return a.promise=b,a}function d(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}function e(a){var b=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document;b.appendChild(a)}function f(a){var b=[];for(var c in a)a[c]&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function g(a){try{return".com"!==a.substring(a.lastIndexOf("."))?(a.split(".")||[]).length<=3?a:a.split(".").slice(1).join("."):a.substring(a.lastIndexOf(".",a.lastIndexOf(".")-1)+1)}catch(b){return a.substring(a.lastIndexOf(".",a.lastIndexOf(".")-1)+1)}}function h(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var o,p,q,r,s,t,u,v,w,x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()}function i(a){return"[object Object]"=={}.toString.call(a)}function j(a,b,c){var d=c||{};document.cookie=a.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+b.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(d.domain?";domain="+d.domain:"")+(d.path?";path="+d.path:"")+(d.secure?";secure":"")+(d.httponly?";HttpOnly":"")}function k(a){var b=new RegExp("(?:^|;\\s*)"+a+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return b?b[1]:void 0}function l(a,b,c){var d=new Date;d.setTime(d.getTime()-864e5);var e="/";document.cookie=a+"=;path="+e+";domain=."+b+";expires="+d.toGMTString(),document.cookie=a+"=;path="+e+";domain=."+c+"."+b+";expires="+d.toGMTString()}function m(a,b){for(var c=a.split("."),d=b.split("."),e=3,f=0;e>f;f++){var g=Number(c[f]),h=Number(d[f]);if(g>h)return 1;if(h>g)return-1;if(!isNaN(g)&&isNaN(h))return 1;if(isNaN(g)&&!isNaN(h))return-1}return 0}function n(){var b=a.location.hostname;if(!b){var c=a.parent.location.hostname;c&&~c.indexOf("zebra.alibaba-inc.com")&&(b=c)}var d=["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"],e=new RegExp("([^.]*?)\\.?((?:"+d.join(")|(?:").replace(/\./g,"\\.")+"))","i"),f=b.match(e)||[],g=f[2]||"taobao.com",h=f[1]||"m";"taobao.net"!==g||"x"!==h&&"waptest"!==h&&"daily"!==h?"taobao.net"===g&&"demo"===h?h="demo":"alibaba-inc.com"===g&&"zebra"===h?h="zebra":"waptest"!==h&&"wapa"!==h&&"m"!==h&&(h="m"):h="waptest";var i="h5api";"taobao.net"===g&&"waptest"===h&&(i="acs"),s.mainDomain=g,s.subDomain=h,s.prefix=i}function o(){var b=a.navigator.userAgent,c=b.match(/WindVane[\/\s]([\d\.\_]+)/);c&&(s.WindVaneVersion=c[1]);var d=b.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);d&&(s.AliAppName=d[1],s.AliAppVersion=d[2]);var e=b.match(/AMapClient\/([\d\.\_]+)/i);e&&(s.AliAppName="AMAP",s.AliAppVersion=e[1])}function p(a){this.id=""+(new Date).getTime()+ ++y,this.params=d(a||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=t.slice(0)}var q=a.Promise,r=(q||{resolve:function(){return void 0}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var s={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},t=[],u={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};n(),o();var v=/[Android|Adr]/.test(a.navigator.userAgent),w="AP"===s.AliAppName,x=w&&m(s.AliAppVersion,"10.1.2")>=0||"KB"===s.AliAppName&&m(s.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===s.AliAppName&&m(s.AliAppVersion,"1.0.1")>=0,y=0,z="2.5.6";p.prototype.use=function(a){if(!a)throw new Error("middleware is undefined");return this.middlewares.push(a),this},p.prototype.__processRequestMethod=function(a){var b=this.params,c=this.options;"get"===b.type&&"jsonp"===b.dataType?c.getJSONP=!0:"get"===b.type&&"originaljsonp"===b.dataType?c.getOriginalJSONP=!0:"get"===b.type&&"json"===b.dataType?c.getJSON=!0:"post"===b.type&&(c.postJSON=!0),a()},p.prototype.__processRequestType=function(c){var d=this,e=this.params,f=this.options;if(s.H5Request===!0&&(f.H5Request=!0),s.WindVaneRequest===!0&&(f.WindVaneRequest=!0),f.H5Request===!1&&f.WindVaneRequest===!0){if(!x&&(!b.windvane||parseFloat(f.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(x&&!a.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(f.H5Request===!0)f.WindVaneRequest=!1;else if("undefined"==typeof f.WindVaneRequest&&"undefined"==typeof f.H5Request&&(b.windvane&&parseFloat(f.WindVaneVersion)>=5.4?(f.WindVaneRequest=!0,window.self!==window.top&&(f.H5Request=!0)):f.H5Request=!0,x)){if(f.WindVaneRequest=f.H5Request=void 0,a.AlipayJSBridge)if(i(e.data))f.WindVaneRequest=!0;else try{i(JSON.parse(e.data))?f.WindVaneRequest=!0:f.H5Request=!0}catch(g){f.H5Request=!0}else f.H5Request=!0;"AMAP"!==s.AliAppName||e.useNebulaJSbridgeWithAMAP||(f.WindVaneRequest=f.H5Request=void 0,f.H5Request=!0)}var h=a.navigator.userAgent.toLowerCase();return h.indexOf("youku")>-1&&f.mainDomain.indexOf("youku.com")<0&&(f.WindVaneRequest=!1,f.H5Request=!0),f.mainDomain.indexOf("youku.com")>-1&&h.indexOf("youku")<0&&(f.WindVaneRequest=!1,f.H5Request=!0),c?c().then(function(){var a=f.retJson.ret;if(a instanceof Array&&(a=a.join(",")),f.WindVaneRequest===!0&&x&&f.retJson.error||!a||a.indexOf("PARAM_PARSE_ERROR")>-1||a.indexOf("HY_FAILED")>-1||a.indexOf("HY_NO_HANDLER")>-1||a.indexOf("HY_CLOSED")>-1||a.indexOf("HY_EXCEPTION")>-1||a.indexOf("HY_NO_PERMISSION")>-1){if(!x||!isNaN(f.retJson.error)||-1!==f.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return x&&i(e.data)&&(e.data=JSON.stringify(e.data)),s.H5Request=!0,d.__sequence([d.__processRequestType,d.__processToken,d.__processRequestUrl,d.middlewares,d.__processRequest]);"undefined"==typeof f.retJson.api&&"undefined"==typeof f.retJson.v&&(f.retJson.api=e.api,f.retJson.v=e.v,f.retJson.ret=[f.retJson.error+"::"+f.retJson.errorMessage],f.retJson.data={})}}):void 0};var A="_m_h5_c",B="_m_h5_tk",C="_m_h5_tk_enc";p.prototype.__getTokenFromAlipay=function(){var b=c(),d=this.options,e=(a.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return d.useAlipayJSBridge===!0&&!e&&x&&a.AlipayJSBridge&&a.AlipayJSBridge.call?a.AlipayJSBridge.call("getMtopToken",function(a){a&&a.token&&(d.token=a.token),b.resolve()},function(){b.resolve()}):b.resolve(),b.promise},p.prototype.__getTokenFromCookie=function(){var a=this.options;return a.CDR&&k(A)?a.token=k(A).split(";")[0]:a.token=a.token||k(B),a.token&&(a.token=a.token.split("_")[0]),q.resolve()},p.prototype.__waitWKWebViewCookie=function(b){var c=this.options;c.waitWKWebViewCookieFn&&c.H5Request&&a.webkit&&a.webkit.messageHandlers?c.waitWKWebViewCookieFn(b):b()},p.prototype.__processToken=function(a){var b=this,c=this.options;this.params;return c.token&&delete c.token,c.WindVaneRequest!==!0?r.then(function(){return b.__getTokenFromAlipay()}).then(function(){return b.__getTokenFromCookie()}).then(a).then(function(){var a=c.retJson,d=a.ret;if(d instanceof Array&&(d=d.join(",")),d.indexOf("TOKEN_EMPTY")>-1||(c.CDR===!0||c.syncCookieMode===!0)&&d.indexOf("ILLEGAL_ACCESS")>-1||d.indexOf("TOKEN_EXOIRED")>-1){if(c.maxRetryTimes=c.maxRetryTimes||5,c.failTimes=c.failTimes||0,c.H5Request&&++c.failTimes<c.maxRetryTimes){var e=[b.__waitWKWebViewCookie,b.__processToken,b.__processRequestUrl,b.middlewares,b.__processRequest];if(c.syncCookieMode===!0&&b.constructor.__cookieProcessorId!==b.id)if(b.constructor.__cookieProcessor){var f=function(a){var c=function(){b.constructor.__cookieProcessor=null,b.constructor.__cookieProcessorId=null,a()};b.constructor.__cookieProcessor?b.constructor.__cookieProcessor.then(c)["catch"](c):a()};e=[f,b.__waitWKWebViewCookie,b.__processToken,b.__processRequestUrl,b.middlewares,b.__processRequest]}else b.constructor.__cookieProcessor=b.__requestProcessor,b.constructor.__cookieProcessorId=b.id;return b.__sequence(e)}c.maxRetryTimes>0&&(l(A,c.pageDomain,"*"),l(B,c.mainDomain,c.subDomain),l(C,c.mainDomain,c.subDomain)),a.retType=u.TOKEN_EXPIRED}}):void a()},p.prototype.__processRequestUrl=function(b){var c=this.params,d=this.options;if(d.hostSetting&&d.hostSetting[a.location.hostname]){var e=d.hostSetting[a.location.hostname];e.prefix&&(d.prefix=e.prefix),e.subDomain&&(d.subDomain=e.subDomain),e.mainDomain&&(d.mainDomain=e.mainDomain)}if(d.H5Request===!0){var f="//"+(d.prefix?d.prefix+".":"")+(d.subDomain?d.subDomain+".":"")+d.mainDomain+"/h5/"+c.api.toLowerCase()+"/"+c.v.toLowerCase()+"/",g=c.appKey||("waptest"===d.subDomain?"4272":"12574478"),i=(new Date).getTime(),j=h(d.token+"&"+i+"&"+g+"&"+c.data),k={jsv:z,appKey:g,t:i,sign:j},l={data:c.data,ua:c.ua};Object.keys(c).forEach(function(a){"undefined"==typeof k[a]&&"undefined"==typeof l[a]&&"headers"!==a&&"ext_headers"!==a&&"ext_querys"!==a&&(k[a]=c[a])}),c.ext_querys&&Object.keys(c.ext_querys).forEach(function(a){k[a]=c.ext_querys[a]}),d.getJSONP?k.type="jsonp":d.getOriginalJSONP?k.type="originaljsonp":(d.getJSON||d.postJSON)&&(k.type="originaljson"),"undefined"!=typeof c.valueType&&("original"===c.valueType?d.getJSONP||d.getOriginalJSONP?k.type="originaljsonp":(d.getJSON||d.postJSON)&&(k.type="originaljson"):"string"===c.valueType&&(d.getJSONP||d.getOriginalJSONP?k.type="jsonp":(d.getJSON||d.postJSON)&&(k.type="json"))),d.useJsonpResultType===!0&&"originaljson"===k.type&&delete k.type,d.dangerouslySetProtocol&&(f=d.dangerouslySetProtocol+":"+f),d.querystring=k,d.postdata=l,d.path=f}b()},p.prototype.__processUnitPrefix=function(a){a()};var D=0;p.prototype.__requestJSONP=function(a){function b(a){if(k&&clearTimeout(k),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===a)window[j]=function(){window[j]=void 0;try{delete window[j]}catch(a){}};else{window[j]=void 0;try{delete window[j]}catch(b){}}}var d=c(),g=this.params,h=this.options,i=g.timeout||2e4,j="mtopjsonp"+(g.jsonpIncPrefix||"")+ ++D,k=setTimeout(function(){a(h.timeoutErrMsg||"TIMEOUT::接口超时"),b("TIMEOUT")},i);h.querystring.callback=j;var l=document.createElement("script");return l.src=h.path+"?"+f(h.querystring)+"&"+f(h.postdata),l.async=!0,l.onerror=function(){b("ABORT"),a(h.abortErrMsg||"ABORT::接口异常退出")},window[j]=function(){h.results=Array.prototype.slice.call(arguments),b(),d.resolve()},e(l),d.promise},p.prototype.__requestJSON=function(b){function d(a){l&&clearTimeout(l),"TIMEOUT"===a&&i.abort()}var e=c(),g=this.params,h=this.options,i=new a.XMLHttpRequest,j=g.timeout||2e4,l=setTimeout(function(){b(h.timeoutErrMsg||"TIMEOUT::接口超时"),d("TIMEOUT")},j);h.CDR&&k(A)&&(h.querystring.c=decodeURIComponent(k(A))),i.onreadystatechange=function(){if(4==i.readyState){var a,c,f=i.status;if(f>=200&&300>f||304==f){d(),a=i.responseText,c=i.getAllResponseHeaders()||"";try{a=/^\s*$/.test(a)?{}:JSON.parse(a),a.responseHeaders=c,h.results=[a],e.resolve()}catch(g){b("PARSE_JSON_ERROR::解析JSON失败")}}else d("ABORT"),b(h.abortErrMsg||"ABORT::接口异常退出")}};var m,n,o=h.path+"?"+f(h.querystring);h.getJSON?(m="GET",o+="&"+f(h.postdata)):h.postJSON&&(m="POST",n=f(h.postdata)),i.open(m,o,!0),i.withCredentials=!0,i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded");var p=g.ext_headers||g.headers;if(p)for(var q in p)i.setRequestHeader(q,p[q]);return i.send(n),e.promise},p.prototype.__requestWindVane=function(a){function d(a){g.results=[a],e.resolve()}var e=c(),f=this.params,g=this.options,h=f.data,i=f.api,j=f.v,k=g.postJSON?1:0,l=g.getJSON||g.postJSON||g.getOriginalJSONP?"originaljson":"";"undefined"!=typeof f.valueType&&("original"===f.valueType?l="originaljson":"string"===f.valueType&&(l="")),g.useJsonpResultType===!0&&(l="");var m,n,o="https"===location.protocol?1:0,p=f.isSec||0,q=f.sessionOption||"AutoLoginOnly",r=f.ecode||0,s=f.ext_headers||{},t=f.ext_querys||{};n="undefined"!=typeof f.timer?parseInt(f.timer):"undefined"!=typeof f.timeout?parseInt(f.timeout):2e4,m=2*n,f.needLogin===!0&&"undefined"==typeof f.sessionOption&&(q="AutoLoginAndManualLogin"),"undefined"!=typeof f.secType&&"undefined"==typeof f.isSec&&(p=f.secType);var u={api:i,v:j,post:String(k),type:l,isHttps:String(o),ecode:String(r),isSec:String(p),param:JSON.parse(h),timer:n,sessionOption:q,ext_headers:s,ext_querys:t};return f.ttid&&g.dangerouslySetWVTtid===!0&&(u.ttid=f.ttid),Object.assign&&f.dangerouslySetWindvaneParams&&Object.assign(u,f.dangerouslySetWindvaneParams),b.windvane.call("MtopWVPlugin","send",u,d,d,m),e.promise},p.prototype.__requestAlipay=function(b){function d(a){g.results=[a],e.resolve()}var e=c(),f=this.params,g=this.options,h={apiName:f.api,apiVersion:f.v,needEcodeSign:"1"===String(f.ecode),usePost:!!g.postJSON};return i(f.data)||(f.data=JSON.parse(f.data)),h.data=f.data,f.ttid&&g.dangerouslySetWVTtid===!0&&(h.ttid=f.ttid),(g.getJSON||g.postJSON||g.getOriginalJSONP)&&(h.type="originaljson"),"undefined"!=typeof f.valueType&&("original"===f.valueType?h.type="originaljson":"string"===f.valueType&&delete h.type),g.useJsonpResultType===!0&&delete h.type,Object.assign&&f.dangerouslySetAlipayParams&&Object.assign(h,f.dangerouslySetAlipayParams),a.AlipayJSBridge.call("mtop",h,d),e.promise},p.prototype.__processRequest=function(a,b){var c=this;return r.then(function(){var a=c.options;if(a.H5Request&&(a.getJSONP||a.getOriginalJSONP))return c.__requestJSONP(b);if(a.H5Request&&(a.getJSON||a.postJSON))return c.__requestJSON(b);if(a.WindVaneRequest)return x?c.__requestAlipay(b):c.__requestWindVane(b);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(a).then(function(){var a=c.options,b=(c.params,a.results[0]),d=b&&b.ret||[];b.ret=d,d instanceof Array&&(d=d.join(","));var e=b.c;a.CDR&&e&&j(A,e,{domain:a.pageDomain,path:"/"}),d.indexOf("SUCCESS")>-1?b.retType=u.SUCCESS:b.retType=u.ERROR,a.retJson=b})},p.prototype.__sequence=function(a){function b(a){if(a instanceof Array)a.forEach(b);else{var g,h=c(),i=c();e.push(function(){return h=c(),g=a.call(d,function(a){return h.resolve(a),i.promise},function(a){return h.reject(a),i.promise}),g&&(g=g["catch"](function(a){h.reject(a)})),h.promise}),f.push(function(a){return i.resolve(a),g})}}var d=this,e=[],f=[];a.forEach(b);for(var g,h=r;g=e.shift();)h=h.then(g);for(;g=f.pop();)h=h.then(g);return h};var E=function(a){a()},F=function(a){a()};p.prototype.request=function(c){var e=this;if(this.options=d(c||{},s),!q){var f="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw b.mtop={ERROR:f},new Error(f)}var h=q.resolve([E,F]).then(function(a){var b=a[0],c=a[1];return e.__sequence([b,e.__processRequestMethod,e.__processRequestType,e.__processToken,e.__processRequestUrl,e.middlewares,e.__processRequest,c])}).then(function(){var a=e.options.retJson;return a.retType!==u.SUCCESS?q.reject(a):e.options.successCallback?void e.options.successCallback(a):q.resolve(a)})["catch"](function(a){var c;return a instanceof Error?(console.error(a.stack),c={ret:[a.message],stack:[a.stack],retJson:u.ERROR}):c="string"==typeof a?{ret:[a],retJson:u.ERROR}:void 0!==a?a:e.options.retJson,b.mtop.errorListener&&b.mtop.errorListener({api:e.params.api,v:e.params.v,retJson:c}),e.options.failureCallback?void e.options.failureCallback(c):q.reject(c)});return this.__processRequestType(),e.options.H5Request&&(e.constructor.__firstProcessor||(e.constructor.__firstProcessor=h),E=function(a){e.constructor.__firstProcessor.then(a)["catch"](a)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(c.pageDomain=c.pageDomain||g(a.location.hostname),c.mainDomain!==c.pageDomain&&(c.maxRetryTimes=4,c.CDR=!0)),this.__requestProcessor=h,h},b.mtop=function(a){return new p(a)},b.mtop.request=function(a,b,c){var d={H5Request:a.H5Request,WindVaneRequest:a.WindVaneRequest,LoginRequest:a.LoginRequest,AntiCreep:a.AntiCreep,AntiFlood:a.AntiFlood,successCallback:b,failureCallback:c||b};return new p(a).request(d)},b.mtop.H5Request=function(a,b,c){var d={H5Request:!0,successCallback:b,failureCallback:c||b};return new p(a).request(d)},b.mtop.middlewares=t,b.mtop.config=s,b.mtop.RESPONSE_TYPE=u,b.mtop.CLASS=p}(window,window.lib||(window.lib={})),function(a,b){function c(a){return a.preventDefault(),!1}function d(a){var b=new RegExp("(?:^|;\\s*)"+a+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return b?b[1]:void 0}function e(b,d){var e=this,f=a.dpr||1,g=document.createElement("div"),h=document.documentElement.getBoundingClientRect(),i=Math.max(h.width,window.innerWidth)/f,j=Math.max(h.height,window.innerHeight)/f;g.style.cssText=["-webkit-transform:scale("+f+") translateZ(0)","-ms-transform:scale("+f+") translateZ(0)","transform:scale("+f+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+i+"px","height:"+j+"px","z-index:999999","position:"+(i>800?"fixed":"absolute"),"left:0","top:0px","background:"+(i>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var k=document.createElement("div");k.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),k.innerText=b;var l=document.createElement("a");l.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),l.innerText="关闭";var m=document.createElement("iframe");m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i>800&&(k.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(i/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),m.style.cssText=["position:absolute","top:92px","left:"+(i/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),k.appendChild(l),g.appendChild(k),g.appendChild(m),g.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(g),m.src=d,l.addEventListener("click",function(){e.hide();var a=document.createEvent("HTMLEvents");a.initEvent("close",!1,!1),g.dispatchEvent(a)},!1),this.addEventListener=function(){g.addEventListener.apply(g,arguments)},this.removeEventListener=function(){g.removeEventListener.apply(g,arguments)},this.show=function(){document.addEventListener("touchmove",c,!1),g.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",c),window.scrollTo(0,-h.top),g.parentNode&&g.parentNode.removeChild(g)}}function f(a){var c=this,d=this.options,e=this.params;return a().then(function(){var a=d.retJson,f=a.ret,g=navigator.userAgent.toLowerCase(),h=g.indexOf("safari")>-1&&g.indexOf("chrome")<0&&g.indexOf("qqbrowser")<0;if(f instanceof Array&&(f=f.join(",")),(f.indexOf("SESSION_EXPIRED")>-1||f.indexOf("SID_INVALID")>-1||f.indexOf("AUTH_REJECT")>-1||f.indexOf("NEED_LOGIN")>-1)&&(a.retType=l.SESSION_EXPIRED,!d.WindVaneRequest&&(k.LoginRequest===!0||d.LoginRequest===!0||e.needLogin===!0))){if(!b.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(d.safariGoLogin!==!0||!h||"taobao.com"===d.pageDomain)return b.login.goLoginAsync().then(function(a){return c.__sequence([c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest])})["catch"](function(a){throw"CANCEL"===a?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});b.login.goLogin()}})}function g(a){var b=this.options;this.params;return b.H5Request!==!0||k.AntiFlood!==!0&&b.AntiFlood!==!0?void a():a().then(function(){var a=b.retJson,c=a.ret;c instanceof Array&&(c=c.join(",")),c.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&a.data.url&&(b.AntiFloodReferer?location.href=a.data.url.replace(/(http_referer=).+/,"$1"+b.AntiFloodReferer):location.href=a.data.url)})}function h(b){var c=this,f=this.options,g=this.params;return f.AntiCreep!==!1&&(f.AntiCreep=!0),g.forceAntiCreep!==!0&&f.H5Request!==!0||k.AntiCreep!==!0&&f.AntiCreep!==!0?void b():b().then(function(){var b=f.retJson,h=b.ret;if(h instanceof Array&&(h=h.join(",")),(h.indexOf("RGV587_ERROR::SM")>-1||h.indexOf("ASSIST_FLAG")>-1)&&b.data.url){var j="_m_h5_smt",k=d(j),l=!1;if(f.saveAntiCreepToken===!0&&k){k=JSON.parse(k);for(var m in k)g[m]&&(l=!0)}if(f.saveAntiCreepToken===!0&&k&&!l){for(var m in k)g[m]=k[m];return c.__sequence([c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest])}return new i(function(d,h){function i(){m.removeEventListener("close",i),a.removeEventListener("message",k),h("USER_INPUT_CANCEL::用户取消输入")}function k(b){var e;try{e=JSON.parse(b.data)||{}}catch(l){}if(e&&"child"===e.type){m.removeEventListener("close",i),a.removeEventListener("message",k),m.hide();var n;try{n=JSON.parse(decodeURIComponent(e.content)),"string"==typeof n&&(n=JSON.parse(n));for(var o in n)g[o]=n[o];f.saveAntiCreepToken===!0?(document.cookie=j+"="+JSON.stringify(n)+";",a.location.reload()):c.__sequence([c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest]).then(d)}catch(l){h("USER_INPUT_FAILURE::用户输入失败")}}}var l=b.data.url,m=new e("",l);m.addEventListener("close",i,!1),a.addEventListener("message",k,!1),m.show()})}})}if(!b||!b.mtop||b.mtop.ERROR)throw new Error("Mtop 初始化失败！");var i=a.Promise,j=b.mtop.CLASS,k=b.mtop.config,l=b.mtop.RESPONSE_TYPE;b.mtop.middlewares.push(f),b.mtop.loginRequest=function(a,b,c){var d={LoginRequest:!0,H5Request:!0,successCallback:b,failureCallback:c||b};return new j(a).request(d)},b.mtop.antiFloodRequest=function(a,b,c){var d={AntiFlood:!0,successCallback:b,failureCallback:c||b};return new j(a).request(d)},b.mtop.middlewares.push(g),b.mtop.antiCreepRequest=function(a,b,c){var d={AntiCreep:!0,successCallback:b,failureCallback:c||b};return new j(a).request(d)},b.mtop.middlewares.push(h)}(window,window.lib||(window.lib={}));window["__@ALI_LIB_LOGIN__"]=function(e){var i={};function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(i){return e[i]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=0)}([function(e,i,t){e.exports=t(1)},function(e,i,t){"use strict";t.r(i);var n=window.document,o=window.navigator.userAgent,r=location.hostname;function a(e){var i;try{i=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(n.cookie)}catch(e){}return i?i[1]:void 0}function l(e,i){i?location.replace(e):location.href=e}var c,s,d,u=o.match(/AliApp\(([^/]+)\/([\d._]+)\)/i),g="m",f="wapa",m="wapatest",p=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),v=r.match(p)||[],b=(v[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com",h=(c=v[1]||g,"taobao.net"===b&&(c=m),c!==g&&c!==f&&c!==m&&(c=g),c),w=window.navigator.userAgent,y=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\)/.exec(w||"")||[],x=String(y[1]||"").toLowerCase(),E={xianyu:["fm"],cainiao:["cn"],taobao:["tb","tm"],jiaoyi_mao:["jym"]},L={xianyu:{loginPrefix:"passport",bizDomainPrefix:"h5",bizSubDomain:"m",mainDomain:"goofish.com"}},S=function(e,i){e&&i&&(L[e]=i)},O=function(e){var i=L[e];return i||console.warn("[lib-login] site:"+e+" config is not defined, use lib.login.setSiteDomainConfig to set config"),i},C={xianyu:{api:"mtop.idle.user.simple",v:"1.0",data:{},ecode:1,sessionOption:"AutoLoginOnly",jsonpIncPrefix:"liblogin",dataType:"json"},taobao:{api:"mtop.user.getUserSimple",v:"1.0",data:{},ecode:1,sessionOption:"AutoLoginOnly",jsonpIncPrefix:"liblogin"}},U=function(e,i){return i?i===e:!!x&&(E[e]||[]).some((function(e){return e&&x.indexOf(e)>-1}))},j=location,N=j.hostname,_=j.protocol;function P(e,i){var t,n,o=encodeURIComponent(_+"//"+N);return"taobao"===i.site?"//h5.m.taobao.com/other/"+e+"end.html?origin="+o:"//"+(t=i.site,(n=O(t)).bizDomainPrefix+"."+((null==n?void 0:n.bizSubDomain)?n.bizSubDomain+".":"")+((null==n?void 0:n.mainDomain)||"")||"market.m.taobao.com")+"/app/vip/h5-webapp/lib-login-message.html?origin="+o}var A,F=window,T=F.document,k=F.dpr||1;function D(e){return e.preventDefault(),!1}!function(e){e.widgetFrame="widgetFrame",e.widgetTitle="widgetTitle",e.iframe="iframe",e.widgetClose="widgetClose"}(A||(A={}));var I=((s={})[A.widgetFrame]={"-webkit-transform":"scale("+k+") translateZ(0)","-ms-transform":"scale("+k+") translateZ(0)",transform:"scale("+k+") translateZ(0)","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0","z-index":"999999",position:"fixed",left:"0",top:"0",right:"0",bottom:"0",background:"#FFF",display:"none"},s[A.widgetTitle]={width:"100%",height:"52px",background:"#EEE","line-height":"52px","text-align":"left","box-sizing":"border-box","padding-left":"20px",position:"absolute",left:"0",top:"0","font-size":"16px","font-weight":"bold",color:"#333"},s[A.iframe]={width:"100%",height:window.innerHeight/k+"px",border:"0",overflow:"hidden"},s[A.widgetClose]={display:"block",position:"absolute",right:"0",top:"0",height:"52px","line-height":"52px",padding:"0 20px",color:"#999"},s),R=((d={})[A.widgetFrame]={background:"rgba(90,90,90,0.3)",position:"fixed"},d[A.widgetTitle]={top:"calc(40vh - 52px)","padding-left":0,"box-shadow":"0px -2px 1px 0 rgb(180 180 180 / 20%)","border-radius":"12px 12px 0 0","background-color":"#fff","text-align":"center"},d[A.iframe]={height:"60vh","margin-top":"40vh","background-color":"#fff"},d[A.widgetClose]={"box-sizing":"content-box",width:"15px",height:"15px",padding:"18px 20px"},d),W=function(e,i){var t=I[e];if(!t)return"";i&&(t=Object.assign({},t,R[e]||{}));var n=[];for(var o in t)Object.hasOwnProperty.call(t,o)&&n.push(o+":"+t[o]);return n.join(";")},V=function(){function e(e,i){var t=this;void 0===e&&(e=""),void 0===i&&(i={useSemiLayer:!1}),this.text=(null==i?void 0:i.title)||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",this.url=e,this.widgetFrame=document.createElement("div"),this.rect=document.documentElement.getBoundingClientRect();var n=null==i?void 0:i.useSemiLayer;this.widgetFrame.style.cssText=W(A.widgetFrame,n);var o=document.createElement("div");o.style.cssText=W(A.widgetTitle,n),o.innerText=this.text;var r=null;n?((r=document.createElement("img")).src="//gw.alicdn.com/imgextra/i2/O1CN01KQFA4M287q502xH3X_!!6000000007886-2-tps-52-54.png",this.url=this.url+(this.url.indexOf("?")?"&":"?")+"isSemiLayer=true"):(r=document.createElement("a")).innerText="\u5173\u95ed",r.style.cssText=W(A.widgetClose,n);var a=document.createElement("iframe");a.style.cssText=W(A.iframe,n),o.appendChild(r),this.widgetFrame.appendChild(o),this.widgetFrame.appendChild(a),T.body.appendChild(this.widgetFrame),a.src=this.url,r.addEventListener("click",(function(){t.hide();var e=T.createEvent("HTMLEvents");e.initEvent("close",!1,!1),t.widgetFrame.dispatchEvent(e)}),!1)}var i=e.prototype;return i.show=function(){document.addEventListener("touchmove",D,!1),this.widgetFrame.style.display="block",window.scrollTo(0,0)},i.hide=function(){document.removeEventListener("touchmove",D),window.scrollTo(0,-this.rect.top),T.body.removeChild(this.widgetFrame)},i.addEventListener=function(e,i,t){this.widgetFrame.addEventListener(e,i,t)},i.removeEventListener=function(e,i,t){this.widgetFrame.removeEventListener(e,i,t)},e}();!function(e,i,t){var n=e.Promise;function o(t,n,o){var r=i.login.generateUrl(t,n);if(!e||!e.WindVane||!e.WindVane.isAvailable)return console.warn("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883"),void l(r,n.replace);e.WindVane.call("aluUccJSBridge","uccTrustLogin",{site:n.site,scene:n.scene},(function(e){if((null==e?void 0:e.ret)&&e.ret.indexOf("HY_SUCCESS")>-1)return o?void o("SUCCESS"):void l(n.redirectUrl||location.href,n.replace);o?o("FAILURE",JSON.stringify(e)):console.warn("[lib-login] FAILURE with "+JSON.stringify(e))}),(function(e){(null==e?void 0:e.ret)&&e.ret.indexOf("HY_NO_HANDLER")>-1?l(r,n.replace):o&&o("FAILURE",JSON.stringify(e))}))}function r(t,n,r){var a;"function"==typeof n?(r=n,n=null):"string"==typeof n?n={redirectUrl:n}:"object"==typeof n&&n.url&&(n.redirectUrl=n.url),n=n||{};var c=(null===(a=null==i?void 0:i.login)||void 0===a?void 0:a.config)||{},s=c.site||"taobao",d=c.scene||"",g=c.clientSite||"",f=c.disbleWidgetLogin||c.disableWidgetLogin,m=i.login.generateUrl(t,Object.assign({site:s},n));if(u)return r&&n.forceNative&&U(s,g)?void function(t,n,o){e&&e.WindVane&&e.WindVane.isAvailable||console.warn("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883"),e.WindVane.call("aluWVJSBridge","sdkLogin",n,(function(){o("SUCCESS")}),(function(e){var r=e&&e.ret;r&&"HY_FAILED"===r?o("CANCEL"):r&&r.indexOf("HY_")>-1?l(i.login.generateUrl(t,n),n.replace):o("CANCEL")}))}(t,Object.assign({site:s},n),r):U(s,g)||"taobao"===s?(e.WindVane&&e.WindVane.isAvailable&&e.WindVane.call("MtopWVPlugin","isSupportAccountSite",{accountSite:s},(function(){U(s,g)?l(m,n.replace):o(t,Object.assign({site:s,scene:d},n),r)}),(function(){l(i.login.generateUrl(t,Object.assign({site:"taobao"},n)),n.replace)})),void l(m,n.replace)):void o(t,Object.assign({site:s,scene:d},n),r);!r||"login"!==t||f?l(m,n.replace):function(t,n,o){var r=P(t,n),a=i.login.generateUrl(t,Object.assign({redirectUrl:r,iframe:!0},n)),l=new V(a,Object.assign(Object.assign({},i.login.config.widgetConfig),{title:n.title}));function c(){l.removeEventListener("close",c),e.removeEventListener("message",s),o("CANCEL")}function s(i){var t=i.data||{};if(t&&t.type&&"child"===t.type)return t.content&&t.content.indexOf("SUCCESS")>-1?(l.removeEventListener("close",c),e.removeEventListener("message",s),l.hide(),void o("SUCCESS")):void o("FAILURE")}l.addEventListener("close",c,!1),e.addEventListener("message",s,!1),l.show()}(t,Object.assign({site:s},n),r)}function c(e,i,t){var o;if(n&&((o={}).promise=new n((function(e,i){o.resolve=e,o.reject=i}))),r(e,i,(function(e){"function"==typeof t&&t(e),"SUCCESS"===e?o&&o.resolve(e):o&&o.reject(e)})),o)return o.promise}i.login=i.login||{},i.login.config={loginName:"login.htm",logoutName:"logout.htm",subDomain:h,forceNative:!0,disableWidgetLogin:!1,site:"",clientSite:""},i.login.isLogin=function(e){var n,o=(null===(n=null==i?void 0:i.login)||void 0===n?void 0:n.config)||{};if(e&&"function"==typeof e&&i.mtop){var r=C.taobao,a=o.site;a&&C[a]&&(r=C[a]);var l=o.loginCheckMtopConf;return l&&l.api&&l.v&&(r=l),i.mtop.request(r,(function(n){n.retType===i.mtop.RESPONSE_TYPE.SUCCESS?e(!0,n):n.retType===i.mtop.RESPONSE_TYPE.SESSION_EXPIRED?e(!1,n):e(t,n)})),null}return!!this.getUserNick()},i.login.isLoginAsync=function(e){var i;if(n&&((i={}).promise=new n((function(e,t){i.resolve=e,i.reject=t}))),this.isLogin((function(t,n){e&&e(t,n),!0===t?i&&i.resolve(n):i&&i.reject(n)})),i)return i.promise},i.login.getUserNick=function(e){return e&&"function"==typeof e?(this.isLogin((function(i,n){var o,r,a=(null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.displayNick)||(null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.nick);e(!0===i&&a?a:!1===i?"":t)})),null):(i="",n=a("_w_tb_nick"),o=a("_nk_")||a("snk"),r=a("sn"),n&&n.length>0&&"null"!==n?i=decodeURIComponent(n):o&&o.length>0&&"null"!==o?i=unescape(unescape(o).replace(/\\u/g,"%u")):r&&r.length>0&&"null"!==r&&(i=decodeURIComponent(r)),i.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var i,n,o,r},i.login.getUserNickAsync=function(e){var i;if(n&&((i={}).promise=new n((function(e,t){i.resolve=e,i.reject=t}))),this.getUserNick((function(t){"function"==typeof e&&e(t),t?i&&i.resolve(t):i&&i.reject()})),i)return i.promise},i.login.generateUrl=function(e,t){var n=i.login.config,o=n.subDomain,r=n.loginName,a=void 0===r?"login.htm":r,l=n.logoutName,c=void 0===l?"logout.htm":l,s=function(e,i){if(void 0===e&&(e="taobao"),void 0===i&&(i="m"),"taobao"===e)return"//login."+i+"."+b;var t=O(e);return"//"+((null==t?void 0:t.loginPrefix)||"")+"."+((null==t?void 0:t.mainDomain)||"")}(t.site||"taobao",o),d=function(e){var i=e.site,t=void 0===i?"taobao":i,n=e.type,o=void 0===n?"login":n,r=e.originLoginPath,a=void 0===r?"login.htm":r,l=e.originLogoutPath,c=void 0===l?"logout.htm":l;return"taobao"===t?"logout"===o?"/"+c:"/"+a:"logout"===o?"/"+c:"login.htm"!==a?"/"+a:"/mini_"+a}({site:t.site||"taobao",originLoginPath:a,originLogoutPath:c,type:e}),u=function(e){var i=e.isFrame,t=void 0!==i&&i,n=e.site,o=void 0===n?"taobao":n,r=e.type,a=void 0===r?"login":r,l=e.redirectUrl,c=e.customParams,s=void 0===c?{}:c,d=l||location.href,u={taobao:Object.assign({ttid:t?"h5@iframe":"",redirectURL:d},s),siteLoginParams:Object.assign({ttid:t?"h5@iframe":"",redirectType:t?"iframeRedirect":"Redirect",returnUrl:d,appName:o,appEntrance:"web",isMobile:"true"},s),siteLogoutParams:Object.assign({toUrl:d},s)};return"taobao"===o?u.taobao:"login"===a?u.siteLoginParams:u.siteLogoutParams}({site:t.site,isFrame:!!t.iframe,redirectUrl:t.redirectUrl,type:e,customParams:i.login.config.loginUrlParams||{}}),g=function(e,i){var t=[];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.push(n+"="+encodeURIComponent(i[n]));var o=e;return/\?/.test(e)?e+"&"+t.join("&"):o+"?"+t.join("&")}(""+s+d,u);return g},i.login.goLogin=function(e){r("login",e,null)},i.login.goLoginAsync=function(e,t){return"boolean"==typeof e&&(t=e,e=null),void 0===t&&(t=i.login.config.forceNative),c("login",{forceNative:t},e)},i.login.goLogout=function(e){r("logout",e,null)},i.login.goLogoutAsync=function(e,i){return"boolean"==typeof e&&(i=e,e=null),c("logout",{forceNative:i},e)},i.login.setSiteDomainConfig=S}(window,window.lib||(window.lib={}));i.default=window.lib.login}]);!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),i=r(a);e.exports=i["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return"[object Array]"==Object.prototype.toString.call(e)}function o(e){return"string"==typeof e}function u(e){return"number"==typeof e}function s(e){return"function"==typeof e}function l(e,t,n,r,a){e=e.split(".");var i=e[0],o=e[1];P["default"]&&P["default"].call(i,o,t,n,r,a)}function c(e,t){return(e||t)&&function(n){n=t&&t(n)||n,e&&e(d(n))}}function f(e){return e&&function(t){e(v(t))}}function d(e){return{code:0,message:e.msg||"",data:e.data||{}}}function p(e){return e}function m(e){return e&&function(t){e(h(t))}}function h(e){return e}function v(e){var t=e.msg,n=M.indexOf(t);return{code:n>0?n:e.code||6,message:t}}function y(e){return o(e)&&(e=e.toLowerCase()),"true"===e||e===!0||1===e}function _(e){return e?"1":"0"}function g(e){var t=!0,n={};e=Array.prototype.reduce.call(e,function(e,n){return"="==n&&t?(t=!1,e+'":"'):","==n?(t=!0,"}"==e[e.length-1]?e.replace(/\}$/,"")+'"}'+n:e+'"'+n):/,\s$/.test(e)?"{"==n?e+n+'"':e+'"'+n:e+n}),e=e.replace(/^\{/,'{"'),e=e.replace(/\}$/,'"}'),e=e.replace(/=/g,'":"'),e=e.replace(/"\{/g,'{"'),e=e.replace(/\}"/g,'"}'),e=e.replace(/"true"/g,"true"),e=e.replace(/"false"/g,"false");try{n=JSON.parse(e)}catch(r){n={},console.error("parse mapString error!")}return n||{}}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=n(2),S=a(w),O=n(9),A=r(O),C=n(10),P=r(C);if(!P["default"])throw Error("need AliBCBridge");var k=window.navigator.userAgent,M=["BC_SUCCESS","BC_NO_HANDLER","BC_PARAM_ERR","BC_UNKNOWN_ERR","BC_NO_PERMISSION","BC_TIMEOUT","BC_FAILED","BC_CLOSED"],I={TB:["tbopen://","com.taobao.taobao"],TM:["tmall://","com.tmall.wireless"]},B={TB:"taobao_scheme",TM:"tmall_scheme"},E={h5:"h5",download:"download",browser:"browser",none:"none"},j=window.Baichuan={isBaichuanEnvironment:P["default"].isAvailable,appkey:P["default"].appkey,getDeviceInfo:function N(e){l("AliBCBase.getDeviceInfo",{},c(e),f(e))},isInstalled:function x(e,t){var n=[];e.apps&&"[object Array]"===Object.prototype.toString.call(e.apps)&&(e.apps.forEach(function(e,t){I[e]&&(n=n.concat(I[e]))}),e.apps=n),l("AliBCBase.isInstalled",e,c(t),f(t))},isTaobaoInstalled:function T(e){j.isInstalled({apps:["TB"]},function(t){var n=!1;0==t.code&&t.data&&(t.data&&"object"===b(t.data)&&(n=Object.keys(t.data).some(function(e,n){return y(t.data[e])})),t.data=n),e(t)})},isTmallInstalled:function W(e){j.isInstalled({apps:["TM"]},function(t){var n=!1;0==t.code&&t.data&&(t.data&&"object"===b(t.data)&&(n=Object.keys(t.data).some(function(e,n){return y(t.data[e])})),t.data=n),e(t)})},request:function D(e,t){l("AliBCNetWork.send",e,function(e){return t(p(e))},m(t))},isLogin:function R(e){l("AliBCLogin.isLogin",{},c(e),f(e))},login:function L(e){l("AliBCLogin.login",{},c(e),f(e))},logout:function U(e){l("AliBCLogin.logout",{},c(e),f(e))}};Object.defineProperty(j,"isBaichuanEnvironment",{get:function F(){return P["default"].isAvailable}}),Object.defineProperty(j,"appkey",{get:function V(){return P["default"].appkey}}),e.exports=j},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Version=t.params=t.thirdapp=t.aliapp=t.os=t.browser=undefined;var a=n(3),i=r(a),o=n(6),u=r(o),s=n(5),l=r(s),c=n(7),f=r(c),d=n(8),p=r(d),m=n(4),h=r(m);t.browser=u["default"],t.os=l["default"],t.aliapp=i["default"],t.thirdapp=f["default"],t.params=p["default"],t.Version=h["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=r(a),o=n(5),u=r(o),s=window.navigator.userAgent,l=!1,c,f,d="",p="",m="";(f=s.match(/WindVane[\/\s]([\d\.\_]+)/i))&&(c=f[1]),(f=s.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(l=!0,d=f[1],m=f[2],p=d.indexOf("-PD")>0?u["default"].isIOS?"iPad":u["default"].isAndroid?"AndroidPad":u["default"].name:u["default"].name),!d&&s.indexOf("TBIOS")>0&&(d="TB");var h=window._ua_popLayer||"",v=!1,y="";h&&(f=h.match(/PopLayer\/([\d\.]+)/i))&&(v=!0,y=f[1]),l&&(l={windvane:new i["default"](c||"0.0.0"),appname:d||"unkown",version:new i["default"](m||"0.0.0"),platform:p||u["default"].name,poplayer:v||!1,poplayerVersion:new i["default"](y||"0.0.0")}),t["default"]=l,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this.val=t?t.toString():""}return r(e,null,[{key:"compare",value:function t(e,n){e=e.toString().split("."),n=n.toString().split(".");for(var r=0;r<e.length||r<n.length;r++){var a=parseInt(e[r],10),i=parseInt(n[r],10);if(isNaN(a)&&(a=0),isNaN(i)&&(i=0),a<i)return-1;if(a>i)return 1}return 0}}]),r(e,[{key:"gt",value:function a(t){return e.compare(this,t)>0}},{key:"gte",value:function i(t){return e.compare(this,t)>=0}},{key:"lt",value:function o(t){return e.compare(this,t)<0}},{key:"lte",value:function u(t){return e.compare(this,t)<=0}},{key:"eq",value:function s(t){return 0===e.compare(this,t)}},{key:"toString",value:function l(){return this.val.toString()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=r(a),o=window.navigator.userAgent,u,s;if(s=o.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))u={name:"Windows Phone",isWindowsPhone:!0,version:new i["default"](s[1])};else if(o.match(/Safari/)&&(s=o.match(/Android[\s\/]([\d\.]+)/)))u={version:new i["default"](s[1])},o.match(/Mobile\s+Safari/)?(u.name="Android",u.isAndroid=!0):(u.name="AndroidPad",u.isAndroidPad=!0);else if(s=o.match(/(iPhone|iPad|iPod)/)){var l=s[1];(s=o.match(/OS ([\d_\.]+) like Mac OS X/))&&(u={name:l,isIPhone:"iPhone"===l||"iPod"===l,isIPad:"iPad"===l,isIOS:!0,version:new i["default"](s[1].split("_").join("."))})}u||(u={name:"unknown",version:new i["default"]("0.0.0")}),t["default"]=u,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=r(a),o=window.navigator.userAgent,u,s;(s=o.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?u={name:"UC",isUC:!0,version:new i["default"](s[1])}:(s=o.match(/MQQBrowser\/([\d\.]+)/))?u={name:"QQ",isQQ:!0,version:new i["default"](s[1])}:(s=o.match(/(?:Firefox|FxiOS)\/([\d\.]+)/))?u={name:"Firefox",isFirefox:!0,version:new i["default"](s[1])}:(s=o.match(/MSIE\s([\d\.]+)/))||(s=o.match(/IEMobile\/([\d\.]+)/))?(u={version:new i["default"](s[1])},o.match(/IEMobile/)?(u.name="IEMobile",u.isIEMobile=!0):(u.name="IE",u.isIE=!0),o.match(/Android|iPhone/)&&(u.isIELikeWebkit=!0)):(s=o.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(u={name:"Chrome",isChrome:!0,version:new i["default"](s[1])},o.match(/Version\/[\d+\.]+\s*Chrome/)&&(u.name="Chrome Webview",u.isWebview=!0)):o.match(/Safari/)&&(s=o.match(/Android[\s\/]([\d\.]+)/))?u={name:"Android",isAndroid:!0,version:new i["default"](s[1])}:o.match(/iPhone|iPad|iPod/)&&(o.match(/Safari/)&&(s=o.match(/Version\/([\d\.]+)/))?u={name:"Safari",isSafari:!0,version:new i["default"](s[1])}:(s=o.match(/OS ([\d_\.]+) like Mac OS X/))&&(u={name:"iOS Webview",isWebview:!0,version:new i["default"](s[1].replace(/\_/g,"."))})),u||(u={name:"unknown",version:new i["default"]("0.0.0")}),t["default"]=u,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=window.navigator.userAgent,r;r=n.match(/Weibo/i)?{appname:"Weibo",isWeibo:!0}:!!n.match(/MicroMessenger/i)&&{appname:"Weixin",isWeixin:!0},t["default"]=r,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={},r=window.location.search.replace(/^\?/,"");if(r)for(var a=r.split("&"),i=0;i<a.length;i++){a[i]=a[i].split("=");try{n[a[i][0]]=decodeURIComponent(a[i][1])}catch(o){n[a[i][0]]=a[i][1]}}t["default"]=n,e.exports=t["default"]},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var a in n)r.call(n,a)&&(e[a]=n[a])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var r=parseInt(e[n],10),a=parseInt(t[n],10);if(window.isNaN(r)&&(r=0),window.isNaN(a)&&(a=0),r<a)return-1;if(r>a)return 1}return 0}function i(){p=window.navigator.userAgent,m=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(p)||/Windows\sNT\s[\d\.]+/i.test(p),h=p.match(/AliBaichuan\(\S+_\S+_(\S+)@[\s\S]*_(\d+[._]\d+(?:[._]\d+)+)\/(\d+[._]\d+(?:[._]\d+)+)\)/),v=h&&h[1]?h[1]:"",y=h&&h[2]?h[2]:"0.0.0",_=h&&h[3]?h[3]:"0.0.0"}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(2),s=r(u),l=window.AliBCBridge||{},c=window.Promise,f=window.document,d=Object.prototype.hasOwnProperty,p=void 0,m=void 0,h=void 0,v=void 0,y=void 0,_=void 0;i();var g="bchybrid",b="bc_hybrid",w="iframe_",S="param_",O="chunk_",A=6e5,C=6e5,P=6e4,k=Math.floor(65536*Math.random()),M=1,I=[],B=3,E={isAvailable:1===a(y,"3.1"),appkey:v,call:function x(e,t,n,r,a,i){var o,u;"number"==typeof arguments[arguments.length-1]&&(i=arguments[arguments.length-1]),"function"!=typeof r&&(r=null),"function"!=typeof a&&(a=null),c&&(u={},u.promise=new c(function(e,t){u.resolve=e,u.reject=t})["catch"](function(e){})),o=j.getSid();var s={success:r,failure:a,deferred:u};if(i>0&&(s.timeout=setTimeout(function(){E.onFailure(o,{ret:"HY_TIMEOUT"})},i)),j.registerCall(o,s),j.registerGC(o,i),E.isAvailable?j.callMethod(e,t,n,o):E.onFailure(o,{msg:"BC_NOT_IN_BAICHUAN"}),u)return u.promise},fireEvent:function T(e,t,n){var r=f.createEvent("HTMLEvents");r.initEvent(e,!1,!0),r.param=j.parseData(t||j.getData(n)),f.dispatchEvent(r)},getParam:function W(e){return j.getParam(e)},setData:function D(e,t){j.setData(e,t)},onSuccess:function R(e,t){j.onComplete(e,t,"success")},onFailure:function L(e,t){j.onComplete(e,t,"failure")}};Object.defineProperty(E,"isAvailable",{get:function U(){return i(),1===a(y,"3.1")}}),Object.defineProperty(E,"appkey",{get:function F(){return i(),v}});var j={params:{},chunks:{},calls:{},getSid:function V(){return(k+M++)%65536+""},buildParam:function Q(e){return e&&"object"===(void 0===e?"undefined":o(e))?JSON.stringify(e):e||""},getParam:function H(e){return this.params["param_"+e]||""},setParam:function q(e,t){this.params["param_"+e]=t},parseData:function J(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(n){t={msg:["BC_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},setData:function $(e,t){this.chunks["chunk_"+e]=this.chunks["chunk_"+e]||[],this.chunks["chunk_"+e].push(t)},getData:function G(e){return this.chunks["chunk_"+e]?this.chunks["chunk_"+e].join(""):""},registerCall:function X(e,t){this.calls[e]=t},unregisterCall:function K(e){var t={};return this.calls[e]&&(t=this.calls[e],delete this.calls[e]),t},useIframe:function Y(e,t){var n="iframe_"+e,r=I.pop();r||(r=f.createElement("iframe"),r.setAttribute("frameborder","0"),r.style.display="none"),r.setAttribute("id",n),r.setAttribute("src",t),r.parentNode||setTimeout(function(){f.body.appendChild(r)},5)},retrieveIframe:function Z(e){var t="iframe_"+e,n=f.querySelector("#"+t);I.length>=3?n&&f.body.removeChild(n):I.push(n)},callMethod:function z(e,t,n,r){if(n=j.buildParam(n),m)this.onComplete(r,{msg:"BC_NO_HANDLER_ON_WP"},"failure");else{var a="bchybrid:///"+e+":"+r+"/"+t+"?"+n;if(s.os.isIOS)this.setParam(r,n),this.useIframe(r,a);else if(s.os.isAndroid){var i="bc_hybrid:";console.log(a,"bc_hybrid:")}else this.onComplete(r,{msg:"BC_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function ee(e,t){var n=this,r=Math.max(t||0,6e5),a=Math.max(t||0,6e4),i=Math.max(t||0,6e5);setTimeout(function(){n.unregisterCall(e)},r),s.os.isIOS?setTimeout(function(){n.params["param_"+e]&&delete n.params["param_"+e]},a):s.os.isAndroid&&setTimeout(function(){n.chunks["chunk_"+e]&&delete n.chunks["chunk_"+e]},i)},onComplete:function te(e,t,n){var r=this.unregisterCall(e),a=r.success,i=r.failure,o=r.deferred,u=r.timeout;u&&clearTimeout(u),t=t?t:this.getData(e),t=this.parseData(t);var l=t.msg;"string"==typeof l&&(t=t.value||t,t.msg||(t.msg=[l])),"success"===n?(a&&a(t),o&&o.resolve(t)):"failure"===n&&(i&&i(t),o&&o.reject(t)),s.os.isIOS?(this.retrieveIframe(e),this.params["param_"+e]&&delete this.params["param_"+e]):s.os.isAndroid&&this.chunks["chunk_"+e]&&delete this.chunks["chunk_"+e]}};for(var N in E)d.call(l,N)||(l[N]=E[N]);window.AliBCBridge=l,e.exports=l}]);window.AliJSBridge=function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"windvane",bridgeRefer:"cdn",bridgeVersion:"2.1.8",getBridge:function(){return window.WindVane}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"nebula",bridgeRefer:"memory",bridgeVersion:"1.1.1",getBridge:function(){return window.AlipayJSBridge}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isExist=function(e){return null!=e},t.isArray=function(e){return e&&"[object Array]"===Object.prototype.toString.call(e)},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":i(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;t.protocol=("http:"!==(i=window.location.protocol)&&"https:"!==i&&(i="https:"),i),t.clientInfo=function(){var e={app:"unknown",appv:"0.0.0",os:"unknown",osv:"0.0.0"},t=window.navigator.userAgent,n=void 0;if(n=t.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))e.os="WindowsPhone",e.osv=n[1],e.isWindowsPhone=!0;else if(t.match(/Safari/)&&(n=t.match(/Android[\s\/]([\d\.]+)/)))e.os="Android",e.osv=n[1],e.isAndroid=!0;else if(n=t.match(/(iPhone|iPad|iPod)/)){e.os="iOS",e.isIOS=!0;var i=n[1];(n=t.match(/OS ([\d_\.]+) like Mac OS X/))&&(e.osv=n[1].replace(/_/g,"."),"iPhone"!==i&&"iPod"!==i||(e.isIPhone=!0),"iPad"===i&&(e.isIPad=!0))}return t.match(/Weibo/i)?e.isWeibo=!0:t.match(/MicroMessenger/i)?e.isWeixin=!0:(n=t.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(e.app=n[1],e.appv=n[2],e.isAliApp=!0,e["is"+e.app]=!0),"unknown"===e.app&&0<t.indexOf("TBIOS")&&(e.app="TB",e.isAliApp=!0,e.isTB=!0),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INVOKE_SUCCEED:"INVOKE_SUCCEED",INVOKE_FAILED:"INVOKE_FAILED",CALLBACK_WONT_INVOKE:"CALLBACK_WONT_INVOKE",LOAD_DEP_ERROR:"LOAD_DEP_ERROR",BRIDGE_CANT_READY:"BRIDGE_CANT_READY",INVOKE_EXCEPTION:"INVOKE_EXCEPTION",USER_CANCEL:"USER_CANCEL",NO_PERMISSION:"NO_PERMISSION",APP_NOT_SUPPORT:"APP_NOT_SUPPORT",API_NOT_SUPPORT:"API_NOT_SUPPORT",PARAM_NOT_SET:"PARAM_NOT_SET",PARAM_WRONG:"PARAM_WRONG",PARAM_NOT_SUPPORT:"PARAM_NOT_SUPPORT",throw:function(e,t){return t?{errorCode:e,errorMsg:t}:{errorCode:e}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"dingtalk",bridgeRefer:"cdn",bridgeVersion:"2.7.16",getBridge:function(){return window.dd}},e.exports=t.default},function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(9);var p=c(n(16)),o=c(n(5)),s=c(n(21)),u=c(n(22)),l=n(23),a=c(n(67));function c(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=window.AliJSBridgeConfig||{},m=v.version||"0.1.17",g=p.default.getDefault(v.env,"publish"),h=p.default.getDefault(v.origin,p.default.origin),b=p.default.getDefault(v.autoSetup,!0),y=p.default.getDefault(v.enableTracker,!0),A=p.default.getDefault(v.maxRetryTimes,1);function O(){var a=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),this.setup=function(){a.clientConfig=a.__detect(),a.__tracker({type:"core",module:"jsbridge",action:"init"}),a.__loadDep(a.clientConfig).then(function(){a.__onDepLoadSucceed(),a.jsBridgeAPI.__ready().then(function(){a.__onBridgeReadySucceed()}).catch(function(){a.__onBridgeReadyFailed()})}).catch(function(){a.__onDepLoadFailed()})},this.on=function(e,t){var n=p.default.transformEventName(e);if(void 0===a.allEventsListeners[n]&&(a.allEventsListeners[n]=[],a.isBridgeReady)){var i=a.jsBridgeAPI[n];"function"==typeof i&&i(a)}a.allEventsListeners[n].push(t)},this.off=function(e,t){var n=p.default.transformEventName(e);return!!a.allEventsListeners[n]&&(a.allEventsListeners[n]=t?a.allEventsListeners[n].filter(function(e){return e!==t}):[],!0)},this.emit=function(e,t){var n=p.default.transformEventName(e),i=a.allEventsListeners[n],r=a.clientConfig.clientName;i&&0<i.length&&i.forEach(function(e){a.error?e&&e(a.error):e&&e({e:t,ex:d({},r,t)})})},this.applyPlugin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.Util.noop,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};-1<a.installedPlugins.indexOf(e)?console.warn("[AliJSBridge.applyPlugin] 检测到重复加载插件，本次加载无效，请检查"):(e.apply(a,[a,t]),a.installedPlugins.push(e))},O.instance||(this.supportFullClients=!0,this.Util=p.default,this.CommonError=o.default,this.APIConfig=u.default,this.BridgeNames=l.BridgeNames,this.AppNames=l.AppNames,this.ClientNames=l.ClientNames,this.env=g,this.origin=h,this.version=m,this.enableTracker=y,this.clientInfo=p.default.clientInfo,this.clientConfig=null,this.isDepReady=!1,this.isBridgeReady=!1,this.jsBridgeAPI=null,this.clientBridge=null,this.apiCallerStack=[],this.allEventsListeners={},this.error=null,this.installedPlugins=[],this.__initAPIConfig(),b&&this.setup(),O.instance=this),O.instance}var P=new(i(O,[{key:"__initAPIConfig",value:function(){for(var e in this.APIConfig){var t=this.APIConfig[e];this.__bindAPIImplement(e,t)}}},{key:"__transformAPIRes",value:function(e){var t=this.clientConfig.clientName;if(!p.default.isObject(e)||p.default.isEmptyObj(e.ex))return e;var n=e.ex,i=void 0===n?{}:n,r=_(e,["ex"]);return f({},r,{ex:d({},t,i)})}},{key:"__bindAPIImplement",value:function(l,c){var d=this;if(l in this)return!1;this[l]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.ex,n=void 0===t?{}:t,i=_(e,["ex"]),r=p.default.getDefaultParams(l,i,c);if(r.errorCode)return Promise.reject(r);var a=d.clientConfig,o=a.bridgeName,u=a.clientName,s={};return s=p.default.isArray(n[o])||p.default.isArray(n[u])?p.default.overlayArray(n[o],n[u]):f({},n[o]||{},n[u]||{}),new Promise(function(t,n){d.__call(l,f({},r,{ex:s})).then(function(e){t(d.__transformAPIRes(e))}).catch(function(e){n(d.__transformAPIRes(e))})})}}},{key:"__detect",value:function(){for(var e=window.navigator.userAgent,t=0;t<l.ClientConfig.length;t++){var n=l.ClientConfig[t];if(n.detect(e))return n}for(var i=0;i<l.BridgeClientConfig.length;i++){var r=l.BridgeClientConfig[i];if(r.detect(e))return r}return l.WapConfig}},{key:"__call",value:function(r,a){var o=this;return this.error?Promise.reject(this.error):this.isBridgeReady?(this.__tracker({type:"api",module:r,action:"execute",result:"start"}),r in this.jsBridgeAPI?new Promise(function(e,t){var n=o,i=o.jsBridgeAPI[r](a,n);i instanceof Promise?i.then(function(){e.apply(null,arguments)}).catch(function(e){n.__tracker({type:"api",module:r,action:"execute",result:"fail",message:JSON.stringify(e),errorCode:e.errorCode}),t.apply(null,arguments)}):e(i)}):(this.__tracker({type:"api",module:r,action:"execute",result:"notsupport"}),p.default.notSupportAPI())):new Promise(function(e,t){o.apiCallerStack.push({name:r,params:a,resolve:e,reject:t})})}},{key:"__onDepLoadSucceed",value:function(){this.jsBridgeAPI=new window.JSBridgeAPI({Util:p.default,CommonError:o.default,client:this.clientConfig}),this.clientBridge=this.jsBridgeAPI.bridge,this.isDepReady=!0,this.emit("depLoad")}},{key:"__onDepLoadFailed",value:function(){this.__tracker({type:"core",module:"dependence",action:"load",result:"fail"}),this.error=o.default.throw(o.default.LOAD_DEP_ERROR),this.emit("depLoadFailed"),this.__clearAPICallerStack()}},{key:"__onBridgeReadySucceed",value:function(){this.isBridgeReady=!0,this.emit("ready"),this.__clearAPICallerStack(),this.__clearEventCallerStack()}},{key:"__onBridgeReadyFailed",value:function(){this.__tracker({type:"core",module:this.clientConfig.bridgeName+"-"+this.clientConfig.bridgeVersion,action:"ready",result:"fail"}),this.error=o.default.throw(o.default.BRIDGE_CANT_READY),this.emit("readyFailed"),this.__clearAPICallerStack(),this.__clearEventCallerStack()}},{key:"__clearAPICallerStack",value:function(){for(var e=this,t=function(){var t=e.apiCallerStack.shift();e.error?t.reject(e.error):e.__call(t.name,t.params).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)})};0<this.apiCallerStack.length;)t()}},{key:"__clearEventCallerStack",value:function(){for(var e in this.allEventsListeners){var t=this.jsBridgeAPI[e],n=this.allEventsListeners[e];"function"==typeof t&&void 0!==n&&t(this)}}},{key:"__loadDep",value:function(e){var t=[],n=!1;if("memory"===e.bridgeRefer.toLowerCase()&&(n=!0),"publish"===this.env||"daily"===this.env){var i=this.origin[this.env]+"/fgt/jsbridge/"+this.version+"/??";n||(i+="bridge/"+e.bridgeName+"/"+e.bridgeVersion+".js,"),i+="client/"+e.clientName+".js",t.push({key:"JSBridgeDependency",ver:this.version,url:i})}if("dev"===this.env){var r=this.origin[this.env]+"/dev/",a=(new Date).getTime();if(!n){var o=r+"bridge/"+e.bridgeName+"/"+e.bridgeVersion+".js?t="+a;t.push({key:"JSBridgeDependency_Bridge",ver:this.version,url:o})}var u=r+"client/"+e.clientName+".js?t="+a;t.push({key:"JSBridgeDependency_API",ver:this.version,url:u})}return s.default.loadScripts(t,A)}},{key:"__tracker",value:function(e){e.jbv=this.version,this.enableTracker&&p.default.tracker(e)}}]),O);window.AliJSBridge=P,a.default.forEach(function(e){P.applyPlugin(e)}),t.default=P,e.exports=t.default},function(e,t,n){"use strict";n(10),n(14)},function(e,t,n){"use strict";e.exports=n(11).polyfill()},function(i,r,a){"use strict";(function(q,V){var e,t,n,U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){function s(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,t=void 0,r=void 0,o=function(e,t){f[i]=e,f[i+1]=t,2===(i+=2)&&(r?r(p):h())};var e="undefined"!=typeof window?window:void 0,a=e||{},u=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==q&&"[object process]"==={}.toString.call(q),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(p,1)}}var f=new Array(1e3);function p(){for(var e=0;e<i;e+=2){(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0}i=0}var _,v,m,g,h=void 0;function b(e,t){var n=this,i=new this.constructor(O);void 0===i[A]&&B(i);var r=n._state;if(r){var a=arguments[r-1];o(function(){return I(r,i,a,n._result)})}else k(n,i,e,t);return i}function y(e){if(e&&"object"===(void 0===e?"undefined":U(e))&&e.constructor===this)return e;var t=new this(O);return M(t,e),t}h=l?function(){return q.nextTick(p)}:u?(v=0,m=new u(p),g=document.createTextNode(""),m.observe(g,{characterData:!0}),function(){g.data=v=++v%2}):c?((_=new MessageChannel).port1.onmessage=p,function(){return _.port2.postMessage(0)}):void 0===e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(p)}:d()}catch(e){return d()}}():d();var A=Math.random().toString(36).substring(2);function O(){}var P=void 0,N=1,j=2;function w(e,t,n){t.constructor===e.constructor&&n===b&&t.constructor.resolve===y?function(t,e){e._state===N?S(t,e._result):e._state===j?x(t,e._result):k(e,void 0,function(e){return M(t,e)},function(e){return x(t,e)})}(e,t):void 0===n?S(e,t):s(n)?function(e,i,r){o(function(t){var n=!1,e=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(r,i,function(e){n||(n=!0,i!==e?M(t,e):S(t,e))},function(e){n||(n=!0,x(t,e))},t._label);!n&&e&&(n=!0,x(t,e))},e)}(e,t,n):S(e,t)}function M(t,e){if(t===e)x(t,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=void 0===e?"undefined":U(e);return null!==e&&("object"===t||"function"===t)}(e)){var n=void 0;try{n=e.then}catch(e){return void x(t,e)}w(t,e,n)}else S(t,e)}function C(e){e._onerror&&e._onerror(e._result),E(e)}function S(e,t){e._state===P&&(e._result=t,e._state=N,0!==e._subscribers.length&&o(E,e))}function x(e,t){e._state===P&&(e._state=j,e._result=t,o(C,e))}function k(e,t,n,i){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+N]=n,r[a+j]=i,0===a&&e._state&&o(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?I(n,i,r,a):r(a);e._subscribers.length=0}}function I(e,t,n,i){var r=s(n),a=void 0,o=void 0,u=!0;if(r){try{a=n(i)}catch(e){u=!1,o=e}if(t===a)return void x(t,new TypeError("A promises callback cannot return that same promise."))}else a=i;t._state!==P||(r&&u?M(t,a):!1===u?x(t,o):e===N?S(t,a):e===j&&x(t,a))}var T=0;function B(e){e[A]=T++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=(D.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},D.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===y){var r=void 0,a=void 0,o=!1;try{r=t.then}catch(e){o=!0,a=e}if(r===b&&t._state!==P)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===L){var u=new n(O);o?x(u,a):w(u,t,r),this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},D.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===P&&(this._remaining--,e===j?x(i,n):this._result[t]=n),0===this._remaining&&S(i,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){return n._settledAt(N,t,e)},function(e){return n._settledAt(j,t,e)})},D);function D(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[A]||B(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&S(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}var L=(W.prototype.catch=function(e){return this.then(null,e)},W.prototype.finally=function(t){var n=this.constructor;return s(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},W);function W(e){this[A]=T++,this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof W?function(t,e){try{e(function(e){M(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return L.prototype.then=b,L.all=function(e){return new R(this,e).promise},L.race=function(r){var a=this;return n(r)?new a(function(e,t){for(var n=r.length,i=0;i<n;i++)a.resolve(r[i]).then(e,t)}):new a(function(e,t){return t(new TypeError("You must pass an array to race."))})},L.resolve=y,L.reject=function(e){var t=new this(O);return x(t,e),t},L._setScheduler=function(e){r=e},L._setAsap=function(e){o=e},L._asap=o,L.polyfill=function(){var e=void 0;if(void 0!==V)e=V;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=L},L.Promise=L},"object"===U(r)&&void 0!==i?i.exports=n():void 0===(t="function"==typeof(e=n)?e.call(r,a,r,i):e)||(i.exports=t)}).call(r,a(12),a(13))},function(e,t,n){"use strict";var i,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var l,c=[],d=!1,f=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&_())}function _(){if(!d){var e=s(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new v(e,t)),1!==c.length||d||s(_)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";n(15).polyfill()},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a=Object.keys(Object(r)),o=0,u=a.length;o<u;o++){var s=a[o],l=Object.getOwnPropertyDescriptor(r,s);void 0!==l&&l.enumerable&&(n[s]=r[s])}}return n}e.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(17),o=n(4),u=n(18),s=n(2),l=n(19),c=n(20),d=n(3),f=n(5),p=(i=f)&&i.__esModule?i:{default:i};t.default={origin:{publish:o.protocol+"//g.alicdn.com",daily:o.protocol+"//g-assets.daily.taobao.net",dev:"http://127.0.0.1:8080"},clientInfo:o.clientInfo,capitalizeFirstLetter:function(e){return e[0].toUpperCase()+e.slice(1)},transformEventName:function(e){return/^on[A-Z]+/.test(e)?e:"on"+this.capitalizeFirstLetter(e)},getDefault:function(e,t){return void 0===e?t:e},getDefaultParams:function(e,t,n){var i=this.getDefault(t,{}),r=n.params;if(r){var a={};for(var o in r){var u=r[o],s=i[o];if(void 0===s){if(u.required&&void 0===u.default)return p.default.throw(p.default.PARAM_NOT_SET,"[AliJSBridge."+e+"] Parameter '"+o+"' is required.")}else if(u.options&&-1===u.options.indexOf(s))return p.default.throw(p.default.PARAM_WRONG,"[AliJSBridge."+e+"] Parameter '"+o+"' is not in options "+JSON.stringify(u.options)+".");void 0===s&&u.required&&void 0!==u.default?a[o]=u.default:a[o]=s}return a}return i},invokeException:function(e,t){var n=p.default.throw(p.default.INVOKE_EXCEPTION,e);return t?n:Promise.reject(n)},notSupportAPI:function(e,t){var n=p.default.throw(p.default.API_NOT_SUPPORT,e);return t?n:Promise.reject(n)},notSupportParam:function(e,t){var n=p.default.throw(p.default.PARAM_NOT_SUPPORT,e);return t?n:Promise.reject(n)},overlayArray:function(e,t){var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length&&void 0!==t?t:[];if("[object Array]"!==Object.prototype.toString.call(n)||"[object Array]"!==Object.prototype.toString.call(i))return[];for(var r=n.length>i.length?n.length:i.length,a=[],o=0;o<r;o++)void 0===i[o]?a[o]=n[o]:a[o]=i[o];return a},overlayObject:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};return"[object Object]"!==Object.prototype.toString.call(n)||"[object Object]"!==Object.prototype.toString.call(i)?[]:r({},n,i)},tracker:u.tracker,isArray:s.isArray,isExist:s.isExist,isObject:s.isObject,isEmptyObj:s.isEmptyObj,compareVersion:l.compareVersion,standardizeUrl:c.standardizeUrl,noop:d.noop,safeGet:a.safeGet,safeDetect:a.safeDetect,safeSet:a.safeSet,safeInvoke:a.safeInvoke},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeDetect=function(e,t){var n=u(e,t);return(0,l.isExist)(n.value)},t.safeGet=function(e,t,n){var i=u(e,t).value;return(0,l.isExist)(i)?i:n},t.safeSet=function(e,t,n,i){var r=(0,l.isArray)(t)?t:t.split(c),a=r.pop(),o=u(e,r,i).value;return!!(0,l.isExist)(o)&&(o[a]=n,!0)},t.safeInvoke=function(e,t){var n=(0,l.isArray)(t)?t:t.split(c),i=n.pop(),r=u(e,n).value;if((0,l.isExist)(r)){var a=r[i];if("function"==typeof a)return a.bind(r)}return o.noop};var l=n(2),o=n(3),c=/[\[\]\.]+/;function u(e,t,n){if(!(0,l.isExist)(e))return{};for(var i=(0,l.isArray)(t)?t:t.split(c),r=null,a=e,o=[],u=0;u<i.length;u++){var s=i[u];if(0!==s.length&&(a=(r=a)[s],o.push(s),!(0,l.isExist)(a))){if(!n)return{path:o};r[s]={},a=r[s]}}return{value:a,path:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracker=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(4),a={core:11,api:12};t.tracker=function(t){Math.random()<.01&&setTimeout(function(){var e={pid:"jsbridge",code:a[t.type],msg:t.message||"",page:""+window.location.origin+window.location.pathname,title:document.title,rel:"jsbridge@"+t.jbv+";"+r.clientInfo.app+"@"+r.clientInfo.appv+";"+r.clientInfo.os+"@"+r.clientInfo.osv,ua:navigator.userAgent,referrer:document.referrer,query:location.search.replace(/\?/,""),hash:location.hash.replace(/\#/,""),c1:t.module,c2:t.action,c3:t.result||"",c4:t.errorCode};(new Image).src=("https:"===window.location.protocol?"https:":"http:")+"//gm.mmstat.com/fsp.1.1?"+function(n){return Object.keys(n).map(function(e){var t=n[e];return"function"==typeof t&&(t=t()),"object"===(void 0===t?"undefined":i(t))&&(t=JSON.stringify(t)),e+"="+encodeURIComponent(t)}).join("&")}(e)},0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compareVersion=function(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(isNaN(i)&&(i=0),isNaN(r)&&(r=0),i<r)return-1;if(r<i)return 1}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.standardizeUrl=function(e){var t=e;return t.startsWith("//")&&(t=location.protocol+t),decodeURI(t)===t?encodeURI(t):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getScriptFromCDN:function(e,t,n,i,r){var a=this,o=document,u=o.head||o.getElementsByTagName("head")[0]||o.documentElement,s=o.createElement("script");s.setAttribute("charset","utf-8"),"onload"in s?(s.onload=function(){i&&i()},s.onerror=function(){t<n?(t++,a.getScriptFromCDN(e,t,n,i,r)):r&&r()}):s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&i&&i()},s.async=!0,s.src=e,u.appendChild(s)},loadScripts:function(i,r){for(var a=this,t=[],e=function(n){var e=new Promise(function(e,t){a.getScriptFromCDN(i[n].url,0,r,e,t)});t.push(e)},n=0;n<i.length;n++)e(n);return Promise.all(t)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={detect:{params:{name:{required:!0}}},getAppName:{},getClientName:{},getBridgeName:{},getBridgeVersion:{},getBridge:{},toast:{params:{message:{required:!0},duration:{required:!0,default:2}}},alert:{params:{title:{required:!0},message:{required:!0},button:{required:!0,default:"确认"}}},confirm:{params:{title:{required:!0},message:{required:!0},okButton:{required:!0,default:"确认"},cancelButton:{required:!0,default:"取消"}}},actionSheet:{params:{title:{required:!0},buttons:{required:!0}}},showLoading:{},hideLoading:{},setTitle:{params:{title:{required:!0}}},showTitle:{},hideTitle:{},setNaviBarRightItem:{params:{type:{required:!0,options:["text","icon"]},title:{},iconBase64:{}}},clearNaviBarRightItem:{params:{show:{required:!0,default:!0}}},chooseSysContact:{},chooseCity:{},share:{params:{title:{required:!0},content:{required:!0},image:{required:!0},url:{required:!0}}},setBackgroundColor:{params:{color:{required:!0},alpha:{required:!0,default:1}}},openInBrowser:{params:{url:{required:!0}}},pushWindow:{params:{url:{required:!0}}},popWindow:{},back:{},stopBack:{},photo:{params:{bizCode:{},business:{},maxSelect:{required:!0,default:1}}},takePhoto:{params:{needBase64:{required:!0,default:!1}}},choosePhoto:{params:{maxSelect:{required:!0,default:1}}},uploadImage:{params:{bizCode:{},business:{},dataList:{required:!0},"dataList[].dataURL":{},"dataList[].localID":{},"dataList[].fileURL":{}}},imageViewer:{params:{images:{required:!0},init:{required:!0,default:0}}},playAudio:{params:{urlMP3:{required:!0},urlAMR:{required:!0},identifier:{required:!0}}},pauseAudio:{params:{identifier:{required:!0}}},resumeAudio:{params:{identifier:{required:!0}}},stopAudio:{params:{identifier:{required:!0}}},getDeviceId:{},getNetworkType:{},getLocation:{params:{highAccuracy:{required:!0,default:!1},timeout:{required:!0,default:5},bizType:{}}},getOrientation:{},setOrientation:{params:{orientation:{required:!0,default:"landscape",options:["default","landscape","portrait","landscapeRight","landscapeRight","portraitUpsideDown","auto"]}}},isAppInstalled:{params:{ios:{required:!0},android:{required:!0}}},copyToClipboard:{params:{text:{required:!0}}},scan:{params:{type:{required:!0,default:"qr",options:["qr","bar"]}}},snapshot:{params:{saveToGallery:{required:!0,default:!0}}},vibrate:{},watchShake:{},stopWatchShake:{},watchBlow:{},stopWatchBlow:{},mtop:{params:{api:{required:!0},v:{required:!0},ecode:{default:!1},post:{default:!1},useHttp:{default:!1},isSec:{default:0,options:[0,1,2]},timeout:{},param:{}}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientNames=t.AppNames=t.BridgeNames=t.WapConfig=t.BridgeClientConfig=t.ClientConfig=void 0;var i=F(n(24)),r=F(n(25)),a=F(n(26)),o=F(n(27)),u=F(n(28)),s=F(n(29)),l=F(n(30)),c=F(n(31)),d=F(n(32)),f=F(n(33)),p=F(n(34)),_=F(n(35)),v=F(n(36)),m=F(n(37)),g=F(n(38)),h=F(n(39)),b=F(n(40)),y=F(n(41)),A=F(n(42)),O=F(n(43)),P=F(n(45)),N=F(n(46)),j=F(n(47)),w=F(n(48)),M=F(n(49)),C=F(n(50)),S=F(n(51)),x=F(n(52)),k=F(n(53)),E=F(n(54)),I=F(n(55)),T=F(n(56)),B=F(n(57)),R=F(n(58)),D=F(n(59)),L=F(n(60)),W=F(n(61)),q=F(n(62)),V=F(n(63)),U=F(n(64)),K=F(n(65));function F(e){return e&&e.__esModule?e:{default:e}}t.ClientConfig=[i.default,r.default,a.default,o.default,u.default,s.default,l.default,c.default,d.default,f.default,p.default,_.default,v.default,m.default,g.default,h.default,b.default,y.default,A.default,O.default,P.default,N.default,j.default,w.default,M.default,C.default,S.default,x.default,k.default,E.default,I.default,T.default,B.default,R.default,D.default,L.default,W.default,q.default],t.BridgeClientConfig=[V.default,U.default],t.WapConfig=K.default,t.BridgeNames={nebula:"nebula",windvane:"windvane",dingtalk:"dingtalk",alitrip:"alitrip",ninegame:"ninegame",ninegamesdk:"ninegamesdk",pp:"pp",ucapi:"ucapi",wap:"wap"},t.AppNames={1688:"1688",AFW:"AFW",AK:"AK",ALIWORK:"ALIWORK",Aliyun:"Aliyun",AM:"AM",AP:"AP",AT:"AT",BK:"BK",CN:"CN",DingTalk:"DingTalk",DingTalk_PC:"DingTalk_PC",DY:"DY",ELMC:"ELMC",ET:"ET",FM:"FM",KB:"KB",LDL:"LDL",LX:"LX",NAPOS:"NAPOS",ninegame:"ninegame",ninegamesdk:"ninegamesdk",NJ:"NJ",pp:"pp",QN:"QN",Retail:"Retail",RetailTrader:"RetailTrader",TB:"TB",TB_PD:"TB_PD",TM:"TM",UCBrowser:"UCBrowser",WDKHEMA:"WDKHEMA",XIONGANAPP:"XIONGANAPP",XM:"XM",XY:"XY",YK:"YK",YOUCAI:"YOUCAI",WAP:"WAP"},t.ClientNames={afw:"afw",ak:"ak",aliwork:"aliwork",aliyun:"aliyun",am:"am",ap:"ap",at:"at",bk:"bk",cbu:"cbu",cn:"cn",dingtalk:"dingtalk",dingtalk_pc:"dingtalk_pc",dy_nebula:"dy_nebula",dy_windvane:"dy_windvane",elmc:"elmc",et:"et",fm:"fm",kb:"kb",ldl:"ldl",lx:"lx",napos:"napos",ninegame:"ninegame",ninegamesdk:"ninegamesdk",nj:"nj",pp:"pp",qn:"qn",retail:"retail",retailtrader:"retailtrader",tb:"tb",tb_pd:"tb_pd",tm:"tm",ucapi:"ucapi",wdkhema:"wdkhema",xionganapp:"xionganapp",xm:"xm",xy:"xy",yk:"yk",youcai:"youcai",wap:"wap"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"AFW",clientName:"afw",detect:function(e){return/AliApp\(AFW\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"AK",clientName:"ak",detect:function(e){return/AliApp\(AK\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"ALIWORK",clientName:"aliwork",detect:function(e){return/AliApp\(ALIWORK\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"Aliyun",clientName:"aliyun",detect:function(e){return/AliApp\(Aliyun\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"AM",clientName:"am",detect:function(e){return/AliApp\(AM\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"AP",clientName:"ap",detect:function(e){return/AliApp\(AP\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"AT",clientName:"at",detect:function(e){return/AliApp\(AT\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"BK",clientName:"bk",detect:function(e){return/AliApp\(BK\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"1688",clientName:"cbu",detect:function(e){return/AliApp\(1688\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"CN",clientName:"cn",detect:function(e){return/AliApp\(CN\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"DingTalk",clientName:"dingtalk",detect:function(e){return/AliApp\(DingTalk\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"DingTalk_PC",clientName:"dingtalk_pc",detect:function(e){return/DingTalk\(/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"DY",clientName:"dy_nebula",detect:function(e){return/AliApp\(DY\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"DY",clientName:"dy_windvane",detect:function(e){return/AliApp\(DY\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"ELMC",clientName:"elmc",detect:function(e){return/AliApp\(ELMC\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"ET",clientName:"et",detect:function(e){return/AliApp\(ET\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"FM",clientName:"fm",detect:function(e){return/AliApp\(FM\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"KB",clientName:"kb",detect:function(e){return/AliApp\(KB\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"LDL",clientName:"ldl",detect:function(e){return/AliApp\(LDL\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(44),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"LX",clientName:"lx",detect:function(e){return/AliApp\(LX\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"alitrip",bridgeRefer:"cdn",bridgeVersion:"1.0.15",getBridge:function(){return window.alitripBridge}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"NAPOS",clientName:"napos",detect:function(e){return/AliApp\(NAPOS\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"ninegame",bridgeRefer:"cdn",bridgeVersion:"1.3.1",appName:"ninegame",clientName:"ninegame",detect:function(e){return/NineGameClient/i.test(e)},getBridge:function(){return window.JSBridge}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"ninegamesdk",bridgeRefer:"cdn",bridgeVersion:"1.0.0",appName:"ninegamesdk",clientName:"ninegamesdk",detect:function(e){return/ucsdk\/\d/.test(e)},getBridge:function(){return new sdkBase}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"NJ",clientName:"nj",detect:function(e){return/AliApp\(NJ\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"pp",bridgeRefer:"cdn",bridgeVersion:"1.11.0",appName:"pp",clientName:"pp",detect:function(e){return/AliApp\(PP/i.test(e)||/AliApp\(WDJ/i.test(e)},getBridge:function(){return window.Pca}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"QN",clientName:"qn",detect:function(e){return/AliApp\(QN\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"Retail",clientName:"retail",detect:function(e){return/AliApp\(Retail\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"RetailTrader",clientName:"retailtrader",detect:function(e){return/AliApp\(RetailTrader\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"TB",clientName:"tb",detect:function(e){return/AliApp\(TB\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"TB_PD",clientName:"tb_pd",detect:function(e){return/AliApp\(TB-PD\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"TM",clientName:"tm",detect:function(e){return/AliApp\(TM\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"ucapi",bridgeRefer:"cdn",bridgeVersion:"2.8.56",appName:"UCBrowser",clientName:"ucapi",detect:function(e){return/UCBrowser/i.test(e)&&!/UCBS/i.test(e)&&!/UWS/i.test(e)},getBridge:function(){return window.ucapi}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"WDKHEMA",clientName:"wdkhema",detect:function(e){return/AliApp\(wdkhema\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"XIONGANAPP",clientName:"xionganapp",detect:function(e){return/xionganapp\//i.test(e)&&/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"XM",clientName:"xm",detect:function(e){return/AliApp\(XM\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"XY",clientName:"xy",detect:function(e){return/AliApp\(EVE\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"YK",clientName:"yk",detect:function(e){return/youku/i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"YOUCAI",clientName:"youcai",detect:function(e){return/AliApp\(YouCaiApp\//i.test(e)&&/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"WINDVANE",clientName:"windvane",detect:function(e){return/WindVane\//i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"NEBULA",clientName:"nebula",detect:function(e){return/Nebula\s+/i.test(e)}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(66),a=(i=r)&&i.__esModule?i:{default:i};t.default=Object.assign({},a.default,{appName:"WAP",clientName:"wap",detect:function(){return!0}}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bridgeName:"wap",bridgeRefer:"cdn",bridgeVersion:"1.0.0",getBridge:function(){return null}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(68),a=(i=r)&&i.__esModule?i:{default:i};t.default=[a.default],e.exports=t.default},function(e,t,n){"use strict";function a(e,t){var n={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function v(e,t){return!!e[t]&&(console.warn("[JSBridge.registerAPI] 请不要覆盖已存在的 API，已跳过注册 JSBridge."+t),!0)}function m(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};e.Util.safeSet(e,"APIConfig."+t,i)}function o(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};e.Util.safeSet(e,"jsBridgeAPI.detection."+t,i)}function u(e,t,n){n=n||e.Util.notSupportAPI,e.Util.safeSet(e,"jsBridgeAPI."+t,n)}function g(e,t,n,i){!e.supportFullClients||e.isDepReady?(u(e,t,n),o(e,t,i)):function(e,t,n,i){e.cachedRegisterAPIs[t]={detection:n,implement:i}}(e,t,i,n)}function s(t){return new Promise(function(e){!t.supportFullClients||t.isDepReady?e():t.on("depLoad",function(){e()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.supportFullClients&&(function(e){e.cachedRegisterAPIs={}}(e),function(e){s(e).then(function(){!function(e){var t=e.cachedRegisterAPIs;for(var n in t){var i=t[n],r=i.detection,a=i.implement;u(e,n,a),o(e,n,r)}}(e)})}(e));!function(t){s(t).then(function(){var e=t.jsBridgeAPI;t.genResultWithEx=e.__genResultWithEx.bind(e),t.genDefaultResult=e.__genDefaultResult.bind(e),t.resolveDefault=e.__resolveDefault.bind(e),t.rejectDefault=e.__rejectDefault.bind(e)}),t.callClientBridge=function(n){var i=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this).then(function(){var e=r.ex,t=a(r,["ex"]);return i.jsBridgeAPI.__call(n,t,{ex:e})})}.bind(t),t.cleanCallClientBridge=function(n){var i=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this).then(function(){var e=r.ex,t=a(r,["ex"]);return i.jsBridgeAPI.__cleanCall(n,t,{ex:e})})}.bind(t),t.registerAPI=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(e,t){var n=e.clientConfig,i=n.bridgeName,r=n.clientName,a=t[i]||{},o=t[r]||{};return Object.assign(a,o)}(this,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});for(var n in e)if(!v(this,n)){var i=e[n],r=i.detection,a=(l=r,void 0,c=this.clientConfig,d=c.bridgeName,f=c.clientName,p=l[d]||{},_=l[f]||{},Object.assign(p,_)),o=t[n];m(this,n,i),u=n,s=i,this.__bindAPIImplement(u,s),g(this,n,o,a)}var u,s;var l,c,d,f,p,_}.bind(t)}(e)},e.exports=t.default}]);!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}}(function(){return function i(s,h,l){function o(e,t){if(!h[e]){if(!s[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(_)return _(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=h[e]={exports:{}};s[e][0].call(r.exports,function(t){return o(s[e][1][t]||t)},r,r.exports,i,s,h,l)}return h[e].exports}for(var _="function"==typeof require&&require,t=0;t<l.length;t++)o(l[t]);return o}({1:[function(t,e,a){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e,a,n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)e=r,a=i,Object.prototype.hasOwnProperty.call(e,a)&&(t[i]=r[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+n),r);else for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(e=n=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),e=r=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},i={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(n)},{}],2:[function(t,e,a){"use strict";var l=t("./common"),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var o=new l.Buf8(256),n=0;n<256;n++)o[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function _(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&r))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}o[254]=o[254]=1,a.string2buf=function(t){var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new l.Buf8(h),r=i=0;i<h;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),e[i++]=a<128?a:(e[i++]=a<2048?192|a>>>6:(e[i++]=a<65536?224|a>>>12:(e[i++]=240|a>>>18,128|a>>>12&63),128|a>>>6&63),128|63&a);return e},a.buf2binstring=function(t){return _(t,t.length)},a.binstring2buf=function(t){for(var e=new l.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,i,s=e||t.length,h=new Array(2*s);for(a=n=0;a<s;)if((r=t[a++])<128)h[n++]=r;else if(4<(i=o[r]))h[n++]=65533,a+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&a<s;)r=r<<6|63&t[a++],i--;h[n++]=1<i?65533:r<65536?r:(r-=65536,h[n++]=55296|r>>10&1023,56320|1023&r)}return _(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":1}],3:[function(t,e,a){"use strict";e.exports=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;i=i+(r=r+e[n++]|0)|0,--s;);r%=65521,i%=65521}return r|i<<16|0}},{}],4:[function(t,e,a){"use strict";var h=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,n){var r=h,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],5:[function(t,e,a){"use strict";var l,u=t("../utils/common"),o=t("./trees"),f=t("./adler32"),c=t("./crc32"),n=t("./messages"),_=0,d=4,p=0,g=-2,m=-1,b=4,r=2,v=8,w=9,i=286,s=30,h=19,y=2*i+1,k=15,z=3,x=258,B=x+z+1,A=42,C=113,S=1,j=2,E=3,U=4;function D(t,e){return t.msg=n[e],e}function I(t){return(t<<1)-(4<t?9:0)}function O(t){for(var e=t.length;0<=--e;)t[e]=0}function q(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(u.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function T(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,q(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function R(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,o=t.window,_=t.w_mask,d=t.prev,u=t.strstart+x,f=o[i+s-1],c=o[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(o[(a=e)+s]===c&&o[a+s-1]===f&&o[a]===o[i]&&o[++a]===o[i+1]){i+=2,a++;do{}while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<u);if(n=x-(u-i),i=u-x,s<n){if(t.match_start=e,h<=(s=n))break;f=o[i+s-1],c=o[i+s]}}}while((e=d[e&_])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function H(t){var e,a,n,r,i,s,h,l,o,_,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-B)){for(u.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;n=t.head[--e],t.head[e]=d<=n?n-d:0,--a;);for(e=a=d;n=t.prev[--e],t.prev[e]=d<=n?n-d:0,--a;);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,o=r,_=void 0,_=s.avail_in,o<_&&(_=o),a=0===_?0:(s.avail_in-=_,u.arraySet(h,s.input,s.next_in,_,l),1===s.state.wrap?s.adler=f(s.adler,h,_,l):2===s.state.wrap&&(s.adler=c(s.adler,h,_,l)),s.next_in+=_,s.total_in+=_,_),t.lookahead+=a,t.lookahead+t.insert>=z)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+z-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<z)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function F(t,e){for(var a,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a)),t.match_length>=z)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-z),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=z){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function K(t,e){for(var a,n,r;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=z-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===z&&4096<t.strstart-t.match_start)&&(t.match_length=z-1)),t.prev_length>=z&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-z,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-z),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=z-1,t.strstart++,n&&(T(t,!1),0===t.strm.avail_out))return S}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&T(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return S}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function M(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*y),this.dyn_dtree=new u.Buf16(2*(2*s+1)),this.bl_tree=new u.Buf16(2*(2*h+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(k+1),this.heap=new u.Buf16(2*i+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*i+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=r,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?A:C,t.adler=2===e.wrap?0:1,e.last_flush=_,o._tr_init(e),p):D(t,g)}function J(t){var e,a=G(t);return a===p&&((e=t.state).window_size=2*e.w_size,O(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0),a}function Q(t,e,a,n,r,i){if(!t)return g;var s=1;if(e===m&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),r<1||w<r||a!==v||n<8||15<n||e<0||9<e||i<0||b<i)return D(t,g);8===n&&(n=9);var h=new P;return(t.state=h).strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+z-1)/z),h.window=new u.Buf8(2*h.w_size),h.head=new u.Buf16(h.hash_size),h.prev=new u.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new u.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,J(t)}l=[new M(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===_)return S;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,T(t,!1),0===t.strm.avail_out))return S;if(t.strstart-t.block_start>=t.w_size-B&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):(t.strstart>t.block_start&&(T(t,!1),t.strm.avail_out),S)}),new M(4,4,8,4,F),new M(4,5,16,8,F),new M(4,6,32,32,F),new M(4,4,16,16,K),new M(8,16,32,32,K),new M(8,16,128,128,K),new M(8,32,128,256,K),new M(32,128,258,1024,K),new M(32,258,258,4096,K)],a.deflateInit=function(t,e){return Q(t,e,v,15,8,0)},a.deflateInit2=Q,a.deflateReset=J,a.deflateResetKeep=G,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},a.deflate=function(t,e){var a,n,r,i;if(!t||!t.state||5<e||e<0)return t?D(t,g):g;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==d)return D(t,0===t.avail_out?-5:g);if(n.strm=t,a=n.last_flush,n.last_flush=e,n.status===A)if(2===n.wrap)t.adler=0,L(n,31),L(n,139),L(n,8),n.gzhead?(L(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),L(n,255&n.gzhead.time),L(n,n.gzhead.time>>8&255),L(n,n.gzhead.time>>16&255),L(n,n.gzhead.time>>24&255),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(L(n,255&n.gzhead.extra.length),L(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=c(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(L(n,0),L(n,0),L(n,0),L(n,0),L(n,0),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,3),n.status=C);else{var s=v+(n.w_bits-8<<4)<<8;s|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=C,N(n,s),0!==n.strstart&&(N(n,t.adler>>>16),N(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending!==n.pending_buf_size));)L(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&q(t),n.pending+2<=n.pending_buf_size&&(L(n,255&t.adler),L(n,t.adler>>8&255),t.adler=0,n.status=C)):n.status=C),0!==n.pending){if(q(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&I(e)<=I(a)&&e!==d)return D(t,-5);if(666===n.status&&0!==t.avail_in)return D(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==_&&666!==n.status){var h=2===n.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===_)return S;break}if(t.match_length=0,a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):3===n.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=x){if(H(t),t.lookahead<=x&&e===_)return S;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=z&&0<t.strstart&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+x;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=x-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=z?(a=o._tr_tally(t,1,t.match_length-z),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):l[n.level].func(n,e);if(h!==E&&h!==U||(n.status=666),h===S||h===E)return 0===t.avail_out&&(n.last_flush=-1),p;if(h===j&&(1===e?o._tr_align(n):5!==e&&(o._tr_stored_block(n,0,0,!1),3===e&&(O(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),q(t),0===t.avail_out))return n.last_flush=-1,p}return e!==d?p:n.wrap<=0?1:(2===n.wrap?(L(n,255&t.adler),L(n,t.adler>>8&255),L(n,t.adler>>16&255),L(n,t.adler>>24&255),L(n,255&t.total_in),L(n,t.total_in>>8&255),L(n,t.total_in>>16&255),L(n,t.total_in>>24&255)):(N(n,t.adler>>>16),N(n,65535&t.adler)),q(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?p:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==A&&69!==e&&73!==e&&91!==e&&103!==e&&e!==C&&666!==e?D(t,g):(t.state=null,e===C?D(t,-3):p):g},a.deflateSetDictionary=function(t,e){var a,n,r,i,s,h,l,o,_=e.length;if(!t||!t.state)return g;if(2===(i=(a=t.state).wrap)||1===i&&a.status!==A||a.lookahead)return g;for(1===i&&(t.adler=f(t.adler,e,_,0)),a.wrap=0,_>=a.w_size&&(0===i&&(O(a.head),a.strstart=0,a.block_start=0,a.insert=0),o=new u.Buf8(a.w_size),u.arraySet(o,e,_-a.w_size,a.w_size,0),e=o,_=a.w_size),s=t.avail_in,h=t.next_in,l=t.input,t.avail_in=_,t.next_in=0,t.input=e,H(a);a.lookahead>=z;){for(n=a.strstart,r=a.lookahead-(z-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+z-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++,--r;);a.strstart=n,a.lookahead=z-1,H(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=z-1,a.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,a.wrap=i,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,a){"use strict";var l=t("../utils/common"),h=0,o=1;function n(t){for(var e=t.length;0<=--e;)t[e]=0}var _=0,s=29,d=256,u=d+1+s,f=30,c=19,g=2*u+1,m=15,r=16,p=7,b=256,v=16,w=17,y=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(u+2));n(A);var C=new Array(2*f);n(C);var S=new Array(512);n(S);var j=new Array(256);n(j);var E=new Array(s);n(E);var U,D,I,O=new Array(f);function q(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function T(t){return t<256?S[t]:S[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function N(t,e,a){t.bi_valid>r-a?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>r-t.bi_valid,t.bi_valid+=a-r):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function R(t,e,a){N(t,a[2*e],a[2*e+1])}function H(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function F(t,e,a){var n,r,i=new Array(m+1),s=0;for(n=1;n<=m;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=H(i[h]++,h))}}function K(t){var e;for(e=0;e<u;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*b]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?L(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function G(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&P(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!P(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function J(t,e,a){var n,r,i,s,h=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===n?R(t,r,e):(R(t,(i=j[r])+d+1,e),0!==(s=k[i])&&N(t,r-=E[i],s),R(t,i=T(--n),a),0!==(s=z[i])&&N(t,n-=O[i],s)),h<t.last_lit;);R(t,b,e)}function Q(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=g,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;1<=a;a--)G(t,i,a);for(r=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,G(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,o=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=m;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<g;a++)c<(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)&&(i=c,p++),l[2*n+1]=i,o<n||(t.bl_count[i]++,s=0,f<=n&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(0<p);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)o<(r=t.heap[--a])||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),F(i,o,t.bl_count)}function V(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<o?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*v]++):h<=10?t.bl_tree[2*w]++:t.bl_tree[2*y]++,i=r,o=(h=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4))}function W(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<o)for(;R(t,r,t.bl_tree),0!=--h;);else 0!==r?(r!==i&&(R(t,r,t.bl_tree),h--),R(t,v,t.bl_tree),N(t,h-3,2)):h<=10?(R(t,w,t.bl_tree),N(t,h-3,3)):(R(t,y,t.bl_tree),N(t,h-11,7));i=r,o=(h=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4)}}n(O);var X=!1;function Y(t,e,a,n){var r,i,s,h;N(t,(_<<1)+(n?1:0),3),i=e,s=a,h=!0,M(r=t),h&&(L(r,s),L(r,~s)),l.arraySet(r.pending_buf,r.window,i,s,r.pending),r.pending+=s}a._tr_init=function(t){X||(function(){var t,e,a,n,r,i=new Array(m+1);for(n=a=0;n<s-1;n++)for(E[n]=a,t=0;t<1<<k[n];t++)j[a++]=n;for(j[a-1]=n,n=r=0;n<16;n++)for(O[n]=r,t=0;t<1<<z[n];t++)S[r++]=n;for(r>>=7;n<f;n++)for(O[n]=r<<7,t=0;t<1<<z[n]-7;t++)S[256+r++]=n;for(e=0;e<=m;e++)i[e]=0;for(t=0;t<=143;)A[2*t+1]=8,t++,i[8]++;for(;t<=255;)A[2*t+1]=9,t++,i[9]++;for(;t<=279;)A[2*t+1]=7,t++,i[7]++;for(;t<=287;)A[2*t+1]=8,t++,i[8]++;for(F(A,u+1,i),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=H(t,5);U=new q(A,k,d+1,u,m),D=new q(C,z,0,f,m),I=new q(new Array(0),x,0,c,p)}(),X=!0),t.l_desc=new i(t.dyn_ltree,U),t.d_desc=new i(t.dyn_dtree,D),t.bl_desc=new i(t.bl_tree,I),t.bi_buf=0,t.bi_valid=0,K(t)},a._tr_stored_block=Y,a._tr_flush_block=function(t,e,a,n){var r,i,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return h;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return o;return h}(t)),Q(t,t.l_desc),Q(t,t.d_desc),s=function(t){var e;for(V(t,t.dyn_ltree,t.l_desc.max_code),V(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*B[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=r&&(r=i)):r=i=a+5,a+4<=r&&-1!==e?Y(t,e,a,n):4===t.strategy||i===r?(N(t,2+(n?1:0),3),J(t,A,C)):(N(t,4+(n?1:0),3),function(t,e,a,n){var r;for(N(t,e-257,5),N(t,a-1,5),N(t,n-4,4),r=0;r<n;r++)N(t,t.bl_tree[2*B[r]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),J(t,t.dyn_ltree,t.dyn_dtree)),K(t),n&&M(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(j[a]+d+1)]++,t.dyn_dtree[2*T(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;N(t,2,3),R(t,b,A),16===(e=t).bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":1}],8:[function(t,e,a){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,a){"use strict";var s=t("./zlib/deflate"),h=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),i=t("./zlib/zstream"),o=Object.prototype.toString,_=0,d=-1,u=0,f=8;function c(t){if(!(this instanceof c))return new c(t);this.options=h.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==_)throw new Error(r[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===o.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,n))!==_)throw new Error(r[a]);this._dict_set=!0}}function n(t,e){var a=new c(e);if(a.push(t,!0),a.err)throw a.msg||r[a.err];return a.result}c.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===o.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new h.Buf8(i),r.next_out=0,r.avail_out=i),1!==(a=s.deflate(r,n))&&a!==_)return this.onEnd(a),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(h.shrinkBuf(r.output,r.next_out))):this.onData(h.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==a);return 4===n?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===_):2!==n||(this.onEnd(_),!(r.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=c,a.deflate=n,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")});
