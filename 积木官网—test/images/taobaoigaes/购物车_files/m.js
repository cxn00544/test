!function(){window.$slk_er_info={"source":"er","mtopCache":true,"enableMtopCache":true,"erLogicEnable":true,"evoCache":true,"abGroupId":"er","isSmb":false,"evokeUIAbGroupId":"old_evoke_ui","appAdaptiveValid":false,"os":"ios","adaptiveRes":{},"starId":"2690","evokeUIEnable":true,"autoFailPopEnable":false,"fetchCdnUrl":"https://g.alicdn.com/starlink/core/1.0.19/??plugin-evoke-ui.js,plugin-evoke-login.js,plugin-core.js"}}();!function(){window.ali_slk_config ? window.ali_slk_config.slk_gid="gid_er_er|gid_er_sidebar_1|gid_er_evoke_ui_0|gid_er_af_pop" : window.ali_slk_config={"slk_gid":"gid_er_er|gid_er_sidebar_1|gid_er_evoke_ui_0|gid_er_af_pop"};}();!function(){window.$slk_evoke_er_config={"api":"mtop.taobao.baichuan.smb.get","data":{"config":"-1","openAppConfigDTO":{"autoOpen":"true","extra":{"shortlinkUlkConfig":"{\"enabled\":true,\"uaRegexAllowlist\":[\"MicroMessenger\"]}","loginAllowlist":["http(s)?:\\/\\/detail\\.m\\.tmall\\.com","http(s)?:\\/\\/h5\\.m\\.taobao\\.com\\/awp\\/core\\/detail\\.htm","http(s)?:\\/\\/main\\.m\\.taobao\\.com\\/detail\\/index\\.html","http(s)?:\\/\\/shop\\d{8,}\\.m\\.taobao\\.com","http(s)?:\\/\\/main\\.m\\.taobao\\.com\\/order\\/index\\.html","http(s)?:\\/\\/shop\\.m\\.taobao\\.com\\/shop\\/shop_index\\.htm","http(s)?:\\/\\/taoquan\\.taobao\\.com\\/coupon\\/unify_apply\\.htm","http(s)?:\\/\\/main\\.m\\.taobao\\.com","http(s)?:\\/\\/pages\\.tmall\\.com","http(s)?:\\/\\/buy\\.m\\.tmall\\.com","http(s)?:\\/\\/h5\\.m\\.taobao\\.com","http(s)?:\\/\\/market\\.m\\.taobao\\.com\\/(?!(app\\/mtb\\/app-live-anchor-growth\\/(dinginfo|dinglogin|dingorganization|dingsettlein|dingerror|anchorcollege|web\\/anchordetail|pages\\/SubscribePage\\/index)\\.html)|(app\\/first-seller\\/xvip\\/index\\.html))"],"localRoutingConfig":"{\"afcRouteEnabled\":true,\"afcRouteStarIds\":[],\"afcRouteConfig\":{\"bizCode\":[\"tmall_overseas\",\"growth_dhh\"],\"hostAndPath\":[\"star-link.taobao.com\",\"huodong.taobao.com/wow/z/usergrowth/outside/dpa_module\",\"h5.m.taobao.com/bcec/dahanghai-jump.html\",\"click.tanx.com\",\"s.click.taobao.com\"],\"query\":[[\"slk_actid\"],[\"JKid\"],[\"e\",\"type\"],[\"params\"]]}}","sdkPlugins":[{"enable":"true","title":"plugin-evoke-ui","version":"12312"},{"enable":"true","title":"plugin-link-callapp","version":"0.0.109"},{"enable":"true","title":"plugin-user-action","version":"0.0.103"},{"enable":"true","title":"plugin-poplayer","version":"0.0.103"},{"enable":"true","title":"plugin-core","version":"0.0.103"},{"enable":"true","title":"plugin-evoke-login","version":"0.0.103"}],"prefetchAllowlist":"{\"starIds\":[\"2792\",\"2942\",\"261\"],\"allowlist\":[\"http(s)?:\\\\/\\\\/carry\\\\.taobao\\\\.com\"]}","sdkConfig":"{\"userActionCollect\":\"false\",\"wxGuidePop\":\"false\",\"wxGuidePopPic\":\"https://img.alicdn.com/imgextra/i4/O1CN011081Kf1buxEeVXFb3_!!6000000003526-2-tps-439-166.png\",\"transitPageGlobalEvoke\":\"true\"}"},"failover":{"manualOpen":{"action":"3","url":"https://market.m.taobao.com/app/starlink/wakeup-transit/pages/download?star_id=3027&slk_force_set_request=true"},"ulk":{"action":"3","url":"https://market.m.taobao.com/app/starlink/wakeup-transit/pages/download?star_id=3027&slk_force_set_request=true"}},"globalOpen":"false","id":"2690","pageConfig":{"openUiConfig":{"btnMarginBottom":"48","openWidgets":[{"jsonContent":"{\"btnMarginBottom\":\"48\"}","type":"1"}]},"showUi":"true","useCommonPage":"false"},"popAfterAutoOpenFail":"false","serverParams":{"afcPromotionOpen":"false"},"targetApp":{"androidAppKey":"","androidPkgName":"com.taobao.taobao","apkUrl":"https://download.alicdn.com/wireless/taobao4android/latest/taobao4android_703304.apk","appDownLoadUrl":"https://itunes.apple.com/app/id387682726?mt=8","cnName":"淘宝","fixedParamsJson":"","iconUrl":"https://gw.alicdn.com/imgextra/i1/O1CN01lRRgxQ1Fv1hEVknnW_!!6000000000548-2-tps-170-170.png","id":"13","iosAppKey":"","name":"taobao","openUiConfig":{"bgColor":"#ff5000","text":"打开淘宝"},"path":"m.taobao.com/tbopen/index.html","protocol":"tbopen","protocolPassParams":[],"targetUrlKey":"h5Url","uaRegex":"AliApp\\(TB\\/","ulkPath":"ace.tb.cn/t"},"timeout":"1500","urlPassParams":[]},"serverParams":{}},"ret":["SUCCESS::调用成功"],"v":"1.0","retType":0,"_os_":"ios","_appname_":"safari"}}();/* @preserve starlink plugin */
!function(){"use strict";function o(t){return Object.prototype.toString.call(t)}var e=function(t){return"[object Number]"===o(t)};function i(n,t){var e,o=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),o.push.apply(o,e)),o}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n,e){n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}window.$slkGlobalConfig||(window.$slkGlobalConfig={});var A={get:function(){return window.$slkGlobalConfig},set:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(t in n)window.$slkGlobalConfig[t]=n[t]}},a="https://gm.mmstat.com/jstracker.3",c="https://starlink.sdk.m.taobao.com";function $(t){var n,e=new Image,t=a+"?"+(n=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach(function(t){r(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}({origin_url:c,sampling:1,code:"starlink-sdk-tracker",type:"manual",c1:(A.get()||{}).star_id||""},t),Object.keys(n).map(function(t){return t+"="+encodeURIComponent(n[t])}).join("&"));e.src=t}var L=function(n){if(e(n))try{var t=document.querySelector("html").style.fontSize;return t?n/parseFloat(t)+"rem":n+"px"}catch(t){return $({success:!1,message:"SDK 内部错误",c2:"px2rem",c3:null==t?void 0:t.toString()}),n+"px"}return n};function s(t,n){t=t.toString().split("."),n=n.toString().split(".");for(var e=0;e<t.length||e<n.length;e++){var o=parseInt(t[e],10),i=parseInt(n[e],10);if((o=isNaN(o)?0:o)<(i=isNaN(i)?0:i))return-1;if(i<o)return 1}return 0}function t(n){return{gt:function(t){return 0<s(n,t)},gte:function(t){return 0<=s(n,t)},lt:function(t){return s(n,t)<0},lte:function(t){return s(n,t)<=0},eq:function(t){return 0===s(n,t)},toString:function(){return n.toString()}}}var l,d=window.navigator.userAgent,f=t("0.0.0"),g=!1,u=/AlipayClient/.test(d),p=u&&/MiniProgram/i.test(d),m=/MicroMessenger/.test(d),b=!!d.match(/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i),h=/iphone/gi.test(d)&&812<=window.screen.height,y=d.match(/(iPhone|iPad|iPod)/i),y=y&&y[0],v="iPhone"===y||"iPod"===y,y="iPad"===y,k=-1<d.indexOf("Android")||-1<d.indexOf("Adr"),w=!b&&!k,_="object"===n(window.pha),N=(b?(l="iOS",f=t(d.match(/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i)[1].split("_").join("."))):k?(l="Android",f=t(d.match(/Android[\s\/]([\d\.]+)/i)[1]),d.match(/HuaweiBrowser|HuaweiPPS/i)&&(g=!0)):l="PC",{ua:d,isIOS:b,isIPhone:v,isIphoneX:h,isIPad:y,isAndroid:k,isHuawei:g,isPC:w,isAlipay:u,isAlipayMiniProgram:p,platform:l,v:f,isWechat:m,isPHA:_}),C=function(t){var n,e={};if(e.activity_id=$slk.getConf("activity_id"),e.star_id=$slk.getConf("star_id"),e.slk_sid=$slk.getConf("slk_sid"),e.slk_gid=$slk.getConf("slk_gid"),e.platform=$slk.getConf("platform"),e.platform_version=$slk.getConf("platform_version"),e.request_success=$slk.getConf("request_success")||"",e.bc_fl_src=$slk.getConf("bc_fl_src")||"",t&&t.params&&(n=t.params,"[object Object]"===o(n))&&(e.isAuto=t.isAuto?1:0,e.call_target=t.callTarget||"",e.call_type=t.type||"",e.slk_t=t.params.slk_t||"",e.bc_fl_src=t.params.bc_fl_src||"",1==+(null==t||null==(n=t.params)?void 0:n.afc_route)&&(e.afc_route=1)),t&&t.trigger&&(e.trigger=t.trigger||""),t&&t.action&&(e.x=t.action.x||0,e.y=t.action.y||0,e.type=t.action.type||"",e.position=t.action.position||""),window.$slk_er_info){e.sdk_type="er";try{"ERROR"===window.$slk_er_info.mtopResult&&(e.er_mtopResult="error",e.er_mtopErrInfo=((window.$slk_er_info.mtopErrInfo||{}).ret||[])[0]||"")}catch(t){$({success:!1,message:"SDK 内部错误",c2:"$slk_er_info",c3:null==t?void 0:t.toString()})}}return e};function B(){(o=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})||{}).uiText;var t=void 0===(t=o.uiThemeColor)?"#ff5500":t,n=o.iconUrl,e=o.bottomMargin,o=void 0===(o=o.direction)?"Y":o;return'\n    <div id="SLK_evokeUI_v2" style="\n      /* transform: translate3d(0, 0, 0); */\n      display: flex;\n      align-items: center;\n      min-width: '.concat(L(124),";\n      height: ").concat(L(36),";\n      background-color: ").concat(t,";\n      box-sizing: border-box;\n      z-index: 1000000;\n      position: fixed;\n      bottom: ").concat(L(e||48),";\n      left: 50%;\n      transform: translateX(-50%);\n      border-radius: ").concat(L(18),';\n      margin-bottom: constant(safe-area-inset-bottom); /* 兼容 IOS<11.2 */\n      margin-bottom: env(safe-area-inset-bottom); /* 兼容 IOS>11.2 */\n    ">\n      <style>\n        @keyframes evokeUILogoAnimation {\n          0% {\n            bottom: ').concat(L(12),";\n          }\n          50% {\n            bottom: ").concat(L(16),";\n            transform: scale(1.05);\n          }\n          100% {\n            bottom: ").concat(L(12),";\n          }\n        }\n        @keyframes evokeUISlideX {\n          0% {\n            transform: translateX(").concat(L(0),");\n          }\n          10% {\n            transform: translateX(").concat(L(-80),");\n          }\n          50% {\n            transform: translateX(").concat(L(-80),");\n          }\n          60% {\n            transform: translateX(").concat(L(-160),");\n          }\n          100% {\n            transform: translateX(").concat(L(-160),");\n          }\n        }\n        @keyframes evokeUISlideY {\n          0% {\n            transform: translateY(").concat(L(0),");\n          }\n          10% {\n            transform: translateY(").concat(L(-36),");\n          }\n          50% {\n            transform: translateY(").concat(L(-36),");\n          }\n          60% {\n            transform: translateY(").concat(L(-72),");\n          }\n          100% {\n            transform: translateY(").concat(L(-72),");\n          }\n        }\n        @keyframes evokeUILighter {\n          0% {\n            left: ").concat(L(-20),";\n          }\n          10% {\n            left: ").concat(L(60),";\n          }\n          100% {\n            left: ").concat(L(60),';\n          }\n        }\n      </style>\n      <div style="\n        width: ').concat(L(32),";\n        height: ").concat(L(32),";\n        border-radius: ").concat(L(16),";\n        overflow: hidden;\n        position: absolute;\n        bottom: ").concat(L(2),";\n        left: ").concat(L(2),';\n      ">\n        <div style="\n          width: ').concat(L(10),";\n          height: ").concat(L(50),";\n          left: ").concat(L(-20),";\n          top: ").concat(L(-10),';\n          transform: rotate(30deg);\n          position: absolute;\n          background-color: rgba(255, 255, 255, 1);\n          animation: evokeUILighter 3s infinite 3s ease-in-out;\n        "></div>\n        <img style="\n          width: ').concat(L(32),";\n          height: ").concat(L(32),";\n          box-sizing: border-box;\n          border-radius: ").concat(L(16),";\n          border: ").concat(L(1),' solid #ffffff;\n        "\n        src="').concat(n,'"\n      />\n      </div>\n      <div style="\n        width: ').concat(L(80),";\n        height: ").concat(L(36),";\n        font-size: ").concat(L(15),";\n        margin-left: ").concat(L(36),";\n        margin-right: ").concat(L(4),";\n        color: ").concat(t,';\n        color: #ffffff;\n        word-break: keep-all;\n        text-align: center;\n        overflow: hidden;\n      ">\n        <div style="\n          min-width: ').concat("Y"===o?"auto":L(240),";\n          height: ").concat(L("Y"===o?108:36),";\n          display: flex;\n          flex-direction: ").concat("Y"===o?"column":"row",";\n          animation: ").concat("Y"===o?"evokeUISlideY":"evokeUISlideX",' 6s infinite 3s ease-in-out;\n        ">\n          <div style="\n            width: ').concat(L(80),";\n            height: ").concat(L(36),";\n            line-height: ").concat(L(36),';\n            text-align: center;\n          ">打开淘宝</div>\n          <div style="\n            width: ').concat(L(80),";\n            height: ").concat(L(36),";\n            line-height: ").concat(L(36),';\n            text-align: center;\n          ">随心去逛</div>\n          <div style="\n            width: ').concat(L(80),";\n            height: ").concat(L(36),";\n            line-height: ").concat(L(36),';\n            text-align: center;\n          ">打开淘宝</div>\n        </div>\n      </div>\n      <div id="SLK_evokeUI_v2_close" style="\n        width: ').concat(L(18),";\n        height: ").concat(L(18),";\n        background-color: rgba(0, 0, 0, 0.4);\n        border-radius: 50%;\n        position: absolute;\n        left: ").concat(L(-24),';\n        top: 50%;\n        transform: translateY(-50%);\n        background-image: url(https://gw.alicdn.com/imgextra/i4/O1CN01yD6MZi1ToWneXs9oz_!!6000000002429-2-tps-72-72.png_48x48);\n        background-position: center center;\n        background-size: cover;\n      "></div>\n    </div>\n  ')}var S=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"EXP",t=(t.t=+new Date,function(t){var n=0<arguments.length&&void 0!==t?t:{};return Object.keys(n).map(function(t){return t+"="+n[t]}).join("&")}(t));window.goldlog&&window.goldlog.record?window.goldlog.record("/starlink.sdk.".concat(n),e,t):(window.goldlog_queue&&window.goldlog_queue instanceof Array?window.goldlog_queue:window.goldlog_queue=[]).push({action:"goldlog.record",arguments:["/starlink.sdk.".concat(n),e,t]})},z=function(t,n,e){n=C(n);S(n,t,e)},q="//gw.alicdn.com/imgextra/i2/O1CN01WLtgV11oAmKeJvUOH_!!6000000005185-2-tps-30-48.png",d="schemeParamKey",b="redirectParamKey",v={},K=(r(v,d,"smburl"),r(v,b,"redirectUrl"),r(h={},d,"openUrl"),r(h,b,"redirectUrl"),{text:"打开APP",styles:{width:116,height:36,color:"#ffffff",display:"block",position:"fixed",left:"50%",bottom:48,transform:"translate(-50%)",border:"none","box-shadow":"0 2px 5px rgba(18, 18, 18, 0.25)","background-color":"#ff5500","font-size":14,"border-radius":18,"text-align":"center","line-height":36,"font-weight":"bold","align-items":"center","z-index":"1000000","font-family":"Helvetica,sans-serif","text-decoration":"none","user-select":"none"}}),T={styles:{position:"fixed",top:0,height:50,width:"100%","z-index":"1000000","background-repeat":"no-repeat","background-size":"100% 100%"}},Y={styles:{position:"fixed",top:0,left:0,height:50,width:46,"z-index":"1000001","background-position":"center","background-repeat":"no-repeat","background-size":"16px 16px","background-image":"url('//img.alicdn.com/imgextra/i3/O1CN01TM5Tbn1ebD0nBVNaE_!!6000000003889-2-tps-22-22.png')"}},H={styles:{position:"fixed",height:32,display:"flex",color:"#ffffff","z-index":"1000000","min-width":50,"font-size":14,"background-color":"#ff5500","text-align":"center","justify-content":"center","align-items":"center","line-height":32,"padding-left":36,"padding-right":12}},D={styles:{width:7,height:12,"margin-left":6}},X={styles:{width:26,height:26,position:"absolute",left:2,top:"50%",transform:"translateY(-50%)","border-radius":"50%","border-width":1,"border-style":"solid","border-color":"#ffffff"}};function M(t){z("evokeUIClk",t,"CLK"),$slk.callApp({trigger:"evokeui",targetUrl:t.autoTargetUrl})}var x;(x=function(e){e.on("getResponse",function(t){var O,U,P,j,E,n=((t.pageConfig||{}).openUiConfig||{}).openWidgets||[];O=t,U=e,E=j=P=!1,(t=n)instanceof Array&&t.forEach(function(t){if(t instanceof Object&&t.type)if(1!=+t.type||P)if(2!=+t.type||j){if(3==+t.type&&!E){E=!0;var n={};try{n=t.jsonContent&&JSON.parse(t.jsonContent)||{}}catch(t){$({success:!1,message:"SDK 内部错误",c2:"sidebarUI_JSON.parse",c3:null==t?void 0:t.toString()})}var e=O,o=U;if(N.isWechat){var i,r,a,n=n||{},c=n.position,c=void 0===c?"rt":c,s=n.bgColor,l=n.margin,l=void 0===l?0:l,n=n.zIndex,d=(e||{}).targetApp,f=document.createElement("div"),g=document.createElement("img"),u=document.createElement("img"),p=H.styles,d=d||{},m=d.cnName,b=d.openUiConfig,d=d.iconUrl,b=(b||{}).bgColor;for(i in"lt"===c?(p.left=0,p.top=l,p["border-top-right-radius"]=16,p["border-bottom-right-radius"]=16):"lb"===c?(p.left=0,p.bottom=l,p["border-top-right-radius"]=16,p["border-bottom-right-radius"]=16):"rt"===c?(p.right=0,p.top=l,p["border-top-left-radius"]=16,p["border-bottom-left-radius"]=16):"rb"===c&&(p.right=0,p.bottom=l,p["border-top-left-radius"]=16,p["border-bottom-left-radius"]=16),p["background-color"]=s||b||"#ff5500",n&&(p["z-index"]=String(n)),p)f.style[i]=L(p[i]);for(r in g.src=q,u.src=d,D.styles)g.style[r]=L(D.styles[r]);for(a in X.styles)u.style[a]=L(X.styles[a]);f.id="tcodeSideBar",f.innerText="打开".concat(m),f.appendChild(u),f.appendChild(g),f.addEventListener("click",function(t){t.stopPropagation(),o.callFn("rEvokeTBCode:evokeClick",{trigger:"sidebar",onMaskClose:function(){}}),z("sidebarUIClick",e,"CLK")}),document.body.appendChild(f),z("sidebarUIExp",e,"EXP")}}}else{j=!0;c={};try{c=t.jsonContent&&JSON.parse(t.jsonContent)||{}}catch(t){$({success:!1,message:"SDK 内部错误",c2:"topUI_JSON.parse",c3:null==t?void 0:t.toString()})}var l=c,h=O;if(l=l&&l.bgImg||""){var y,v=document.createElement("div");for(y in document.body.style.paddingTop=L(T.styles.height),T.styles)v.style[y]=L(T.styles[y]);v.style.backgroundImage="url('".concat(l,"')"),v.addEventListener("click",function(t){t.stopPropagation(),M(h)}),document.body.appendChild(v);var k,w=document.createElement("div");for(k in Y.styles)w.style[k]=L(Y.styles[k]);w.addEventListener("click",function(t){try{t.stopPropagation(),w&&document.body.removeChild(w),w&&document.body.removeChild(v),document.body.style.paddingTop="0"}catch(t){$({success:!1,message:"SDK 内部错误",c2:"evokeUI_removeChild",c3:null==t?void 0:t.toString()})}}),document.body.appendChild(w)}z("evokeUIExp",O)}else{P=!0;s={};try{s=t.jsonContent&&JSON.parse(t.jsonContent)||{}}catch(t){$({success:!1,message:"SDK 内部错误",c2:"bottomUI_JSON.parse",c3:null==t?void 0:t.toString()})}var _=O,b=(b=s)&&b.btnMarginBottom||0,n=_.targetApp||{},d=void 0===(d=n.openUiConfig)?{}:d,m=n.iconUrl,n=n.name,t=(d||{}).text||K.text,d=(d||{}).bgColor,C=(null==A||null==(C=A.get())?void 0:C.gidConfig)||{};if("taobao"===n&&"gid_er_evoke_ui_1"===C.evokeUIGid){var x=document.createElement("div"),n=(x.id="SLK_evokeUi_v2_wrap",x.innerHTML=B({uiText:t,uiThemeColor:d,iconUrl:m,bottomMargin:Number(b)}),document.body.appendChild(x),document.getElementById("SLK_evokeUI_v2")),C=document.getElementById("SLK_evokeUI_v2_close");n.addEventListener("click",function(t){t.stopPropagation(),M(_)}),C.addEventListener("click",function(t){t.stopPropagation(),x.style.display="none",document.body.removeChild(x),z("evokeUIClose",_,"CLK")})}else{var S,I=document.createElement("button");for(S in I.innerText=t,K.styles)I.style[S]=L(K.styles[S]);N.isIphoneX&&(I.style.marginBottom="constant(safe-area-inset-bottom)",I.style.marginBottom="env(safe-area-inset-bottom)"),d&&(I.style.backgroundColor=d),b&&(I.style.bottom=L(Number(b))),I.addEventListener("click",function(t){t.stopPropagation(),M(_)}),document.body.appendChild(I)}z("evokeUIExp",O)}})})})&&(y=function(t){x(t)},window.$slk_config_plugins&&Array.isArray(window.$slk_config_plugins)?window.$slk_config_plugins.push(y):window.$slk_config_plugins=[y])}();
/* @preserve starlink plugin */
!function(){"use strict";window.$slkGlobalConfig||(window.$slkGlobalConfig={});var e={get:function(){return window.$slkGlobalConfig},set:function(){var n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(n in t)window.$slkGlobalConfig[n]=t[n]}};var r=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"EXP",n=(n.t=+new Date,function(n){var t=0<arguments.length&&void 0!==n?n:{};return Object.keys(t).map(function(n){return n+"="+t[n]}).join("&")}(n));window.goldlog&&window.goldlog.record?window.goldlog.record("/starlink.sdk.".concat(t),o,n):(window.goldlog_queue&&window.goldlog_queue instanceof Array?window.goldlog_queue:window.goldlog_queue=[]).push({action:"goldlog.record",arguments:["/starlink.sdk.".concat(t),o,n]})};function t(t,n){var o,e=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,o)),e}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(n){var t,o;t=e,o=r[n=n],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var l="https://gm.mmstat.com/jstracker.3",c="https://starlink.sdk.m.taobao.com";function a(n){var t,o=new Image,n=l+"?"+(t=i({origin_url:c,sampling:1,code:"starlink-sdk-tracker",type:"manual",c1:(e.get()||{}).star_id||""},n),Object.keys(t).map(function(n){return n+"="+encodeURIComponent(t[n])}).join("&"));o.src=n}function o(n){try{var t=function(n){var n=0<arguments.length&&void 0!==n?n:location.href,t=((t=n.match(/\?/g))&&1<t.length?(t=(n.match(/\?/)||{}).index||-1,n.split("").slice(t+1).join("")):n.split("?")[1]||"").split("#")[0].split("&"),o={};return t.forEach(function(n,t){n=n.split("=");n[0]&&(o[n[0]]=n[1])}),o}(),o=decodeURIComponent(t.redirectURL||""),e=-1<(null==o?void 0:o.indexOf("_____tmd_____"));return d||!g(o,n)||e?"":o}catch(n){return a({success:!1,message:"SDK 内部错误",c2:"getFinalTargetUrl",c3:null==n?void 0:n.toString()}),r({msg:null==n?void 0:n.toString()},"loginPageGenFinalTargetUrl"),""}}var s,n,g=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];try{return t&&0<(n.filter(function(n){return!!n&&new RegExp(n).test(t)})||[]).length}catch(n){return a({success:!1,message:"SDK 内部错误",c2:"isUrlValid",c3:null==n?void 0:n.toString()}),!1}},u=/login\.(m\.|wapa\.)?(taobao|tmall)\.com/.test(window.location.host),d=window.top!==window.self;(s=function(n){u&&n.on("precheck",function(n){var t=(n||{}).extra,t=(void 0===t?{}:t).loginAllowlist,t=o(void 0===t?[]:t);t?n.autoTargetUrl=t:e.set({block:!0})})})&&(n=function(n){s(n)},window.$slk_config_plugins&&Array.isArray(window.$slk_config_plugins)?window.$slk_config_plugins.push(n):window.$slk_config_plugins=[n])}();
/* @preserve starlink plugin */
!function(){"use strict";function D(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var n=0;n<t.length||n<e.length;n++){var o=parseInt(t[n],10),i=parseInt(e[n],10);if((o=isNaN(o)?0:o)<(i=isNaN(i)?0:i))return-1;if(i<o)return 1}return 0}function j(e){return{gt:function(t){return 0<n(e,t)},gte:function(t){return 0<=n(e,t)},lt:function(t){return n(e,t)<0},lte:function(t){return n(e,t)<=0},eq:function(t){return 0===n(e,t)},toString:function(){return e.toString()}}}var t=window.navigator.userAgent,e=j("0.0.0"),G=!1,$=/AlipayClient/.test(t),B=$&&/MiniProgram/i.test(t),o=/MicroMessenger/.test(t),i=!!t.match(/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i),K=/iphone/gi.test(t)&&812<=window.screen.height,a=t.match(/(iPhone|iPad|iPod)/i),a=a&&a[0],q="iPhone"===a||"iPod"===a,a="iPad"===a,z=-1<t.indexOf("Android")||-1<t.indexOf("Adr"),H=!i&&!z,J="object"===N(window.pha),O=(i?(l="iOS",e=j(t.match(/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i)[1].split("_").join("."))):z?(l="Android",e=j(t.match(/Android[\s\/]([\d\.]+)/i)[1]),t.match(/HuaweiBrowser|HuaweiPPS/i)&&(G=!0)):l="PC",{ua:t,isIOS:i,isIPhone:q,isIphoneX:K,isIPad:a,isAndroid:z,isHuawei:G,isPC:H,isAlipay:$,isAlipayMiniProgram:B,platform:l,v:e,isWechat:o,isPHA:J}),S=(window.$slkGlobalConfig||(window.$slkGlobalConfig={}),{get:function(){return window.$slkGlobalConfig},set:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(t in e)window.$slkGlobalConfig[t]=e[t]}}),X="https://gm.mmstat.com/jstracker.3",W="https://starlink.sdk.m.taobao.com";function P(t){var e,n=new Image,t=X+"?"+(e=M({origin_url:W,sampling:1,code:"starlink-sdk-tracker",type:"manual",c1:(S.get()||{}).star_id||""},t),Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"));n.src=t}var r=O.ua,t=/AlipayClient/.test(r),i=/aweme_lite/i.test(r),q=/aweme/i.test(r)&&!i,K=/newslite/i.test(r),a=/newsarticle/i.test(r)&&!K,z=/kwai\//i.test(r),G=/ksnebula\//i.test(r),H=/baiduboxapp/i.test(r),$=/iqiyiversion/i.test(r),B=/qqlivebrowser/i.test(r),l=/weibo/i.test(r),e=/AliApp\(TB\//.test(r)||0<r.indexOf("TBIOS")||/AliApp\(TB-PD\//.test(r),o=/AliApp\(TM\//.test(r),J=/AliApp\(LT/.test(r),Y=t&&/MiniProgram/i.test(r),V=/iPhone|iPad|iPod/.test(r)&&/Safari\/([0-9\.]+$)/.test(r)&&!/Chrome/i.test(r)&&/Version\/([\d\.]+)/.test(r),Q=/AliApp\(ELMC/i.test(r),Z=/youku/i.test(r),c=/SamsungBrowser/.test(r),tt=/HuaweiBrowser/i.test(r),et=/(?:Chrome|CriOS)\/([\d\.]+)/i.test(r),nt=/Version\/[\d+\.]+\s*Chrome/.test(r),ot=et&&!nt,it=/AliApp\(DingTalk\//i.test(r);x(o={isAlipay:t,isTaobao:e,isTmall:o,isLTao:J,isAlipayMiniProgram:Y,isSafari:V,isEleme:Q,isYouku:Z,isSamsungBrowser:c,isHuaweiBrowser:tt,isChromeCore:et,isOriginalChrome:ot,isChromeWebview:nt,isDingTalk:it,isDouYinLite:i,isTouTiao:a,isTouTiaoLite:K,isKuaiShou:z,isKuaiShouLite:G,isDouYin:q},"isDouYinLite",i),x(o,"isBaidu",H),x(o,"isIQiYi",$),x(o,"isQQLiveBrowser",B),x(o,"isWeibo",l),x(o,"currentApp",e?"taobao":t?"alipay":Q?"eleme":J?"ltao":"unknownApp"),x(o,"targetIsCurrentApp",function(t){try{return new RegExp(t,"i").test(r)}catch(t){return P({success:!1,message:"SDK 内部错误",c2:"targetIsCurrentApp",c3:null==t?void 0:t.toString()}),!0}});var T=o;function u(t){var e=document.cookie,t=t+"=",n=e.indexOf(t);if(n<0)return null;t=-1==(t=e.indexOf(";",n+=t.length))?e.length:t;return e.substring(n,t)}function E(t){var t=0<arguments.length&&void 0!==t?t:location.href,e=t.match(/\?/g),e=(e&&1<e.length?(e=(t.match(/\?/)||{}).index||-1,t.split("").slice(e+1).join("")):t.split("?")[1]||"").split("#")[0].split("&"),n={};return e.forEach(function(t,e){t=t.split("=");t[0]&&(n[t[0]]=t[1])}),n}function at(t){return _t(t)?Object.keys(t).length:0}var s={start:[],setRequest:[],precheck:[],getResponse:[],determineTargetURL:[],setEvokeParam:[],evoke:[],evokeSuccess:[],beforeEvokeFail:[],evokeFail:[]},d={ready:[],evoke:[],evokeSuccess:[],beforeEvokeFail:[],evokeFail:[]},Y=navigator.userAgent,rt={isSamsung:/samsung/i.test(Y)},lt={taobao:{name:"taobao",protocol:"tbopen",androidPkgName:"com.taobao.taobao",path:"m.taobao.com/tbopen/index.html",ulkPath:"ace.tb.cn/t",ulkRedirect:"https://market.m.taobao.com/app/starlink/core/downloadTaobao.html",targetUrlKey:"h5Url",dpsProtocol:"dps",dpsPath:"p",dpsTargetUrlKey:"url",uaRegex:"AliApp\\(TB\\/"},ltao:{name:"ltao",protocol:"taobaolite",androidPkgName:"com.taobao.litetao",path:"m.ltao.com/open/index.html",ulkPath:"",targetUrlKey:"url",uaRegex:"AliApp\\(LT\\/"},eleme:{name:"eleme",protocol:"eleme",androidPkgName:"me.ele",path:"web",ulkPath:"",targetUrlKey:"url",dpsProtocol:"eledps",dpsPath:"p",dpsTargetUrlKey:"url",uaRegex:"AliApp\\(ELMC\\/"}},ct={iPhone:"https://itunes.apple.com/app/id387682726?mt=8",iPad:"https://itunes.apple.com/app/id438865278",huawei:"appmarket://details?id=com.taobao.taobao",android:"https://download.alicdn.com/wireless/taobao4android/latest/taobao4android_703304.apk"},st=[/UCBrowser/,/NewsArticle.+News\s\d{1,}\.\d{1,}/],dt=1500,ut="//gw.alicdn.com/imgextra/i1/O1CN01xwIyX01ch2qUWdY2V_!!6000000003631-2-tps-222-208.png",ft="//gw.alicdn.com/imgextra/i3/O1CN01dtyzHW1mgiima20vb_!!6000000004984-2-tps-152-152.png",pt="//gw.alicdn.com/imgextra/i4/O1CN01zF7BB621Yg0ATSLDG_!!6000000006997-2-tps-152-152.png",gt="//gw.alicdn.com/imgextra/i3/O1CN01lgrDuV1fRQBSAcUWQ_!!6000000004003-1-tps-232-456.gif",mt="//gw.alicdn.com/imgextra/i1/O1CN01x5XV8Q1Y3sWb9qtVw_!!6000000003004-2-tps-222-438.png",vt="//gw.alicdn.com/imgextra/i3/O1CN01kw6ofA1ZXw7abU8D3_!!6000000003205-2-tps-232-456.png",ht="schemeParamKey",wt="redirectParamKey",F={taobao:(x(V={},ht,"smburl"),x(V,wt,"redirectUrl"),V),taibang:(x(Z={},ht,"openUrl"),x(Z,wt,"redirectUrl"),Z)},kt=function(){var t=window.navigator.userAgent,e=!0;if(st&&st.length)for(var n=0;n<st.length;n++)if(st[n].test(t)){e=!1;break}return e},bt=function(t){return Object.prototype.toString.call(t)},_t=function(t){return"[object Object]"===bt(t)},yt=function(t){return"[object Number]"===bt(t)},At=function(t){return"[object Array]"===bt(t)},Ct=function(t){return"[object Function]"===bt(t)};function f(t){var e=0<arguments.length&&void 0!==t?t:{};return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}var St={miniapp:function(t){return"".concat(t.protocol,"://").concat(t.path,"?").concat(f(t.params))},scheme:function(t){return"".concat(t.protocol,"://").concat(t.path,"?").concat(f(t.params))},intent:function(t){return"intent://".concat(t.path,"?").concat(f(t.params),"#Intent;scheme=").concat(t.protocol,";package=").concat(t.package,";end")},ulk:function(t){return"https://".concat(t.path,"?").concat(f(t.params))},windvane:function(t){return"".concat(t.protocol,"://").concat(t.path,"?").concat(f(t.params))}},I=function(n){return function(t){if(At(n))for(var e=0;e<n.length;e++)Ct(n[e])&&(t?n[e](t):n[e]())}},R=s.determineTargetURL,Pt=s.setEvokeParam;function Ut(t){var e=t.isAuto,n=t.adaptiveData,o=t.slkGid,i=t.trigger,a=t.popAfterAutoOpenFail,r=(g=t.targetApp).name,l=g.appDownLoadUrl,c=g.path,s=g.targetUrlKey,d=g.protocol,u=g.androidPkgName,f=g.ulkPath,p=g.ulkRedirect,g=void 0===(g=t.timeout)?dt:g,m=void 0===(v=t.extraProtocolParams)?{}:v,v=t.clipboardCnt,h=t.targetUrl,w=t.autoTargetUrl,k=t.fallbackFailUrl,b=(_=void 0===(_=t.failover)?{}:_).manualOpen,_=_.ulk,t=function(t){var e=t.isAuto,n=(o=t.targetApp).name,o=o.ulkPath,o=!e&&o&&O.v.gte("9.0")&&t.enableUlk&&(kt()||T.isSafari),t=!e&&(T.isOriginalChrome&&!T.isHuaweiBrowser||rt.isSamsung&&O.v.gte("4.3")&&O.v.lt("4.5"));if(O.isAlipayMiniProgram&&"taobao"===n)return"miniapp";if(O.isIOS&&o)return"ulk";if(O.isAndroid){if(t)return"intent";if(O.isPHA)return"windvane"}return"scheme"}(t)||"scheme",y=("ulk"===(y=t)||"intent"===y?"location":"miniapp"===y?"miniapp":"windvane"===y?"windvane":O.isIOS&&O.v.gte("9.0")&&T.isSafari||T.isSamsungBrowser?"alink":"iframe")||"iframe",A=(e?w:h)||window.location.href;if($slk.resetSlkGid(),o&&$slk.setSlkGid(o),n&&0<at(n)&&((w=function(t,e){return t=0<arguments.length&&void 0!==t?t:{},(1<arguments.length?e:void 0)?t.auto||{}:t.manual||{}}(n,e)||{}).type&&w.method&&($slk.setSlkGid(w.slkGid),t=w.type,y=w.method)),null!=R&&R.length)for(var C=0;C<R.length;C++)Ct(R[C])&&(A=R[C](A));0===A.indexOf("//")&&(A="https:".concat(A));var S=!1,P=(!e&&b&&b.url&&(2==+b.action?k=b.url||"":3==+b.action&&(k="".concat(b.url).concat(-1<b.url.indexOf("?")?"&":"?","targetUrl=").concat(encodeURIComponent(A)))),_&&2==+_.action&&_.url?p=_.url:_&&3==+_.action&&_.url&&(p="".concat(_.url).concat(-1<_.url.indexOf("?")?"&":"?","targetUrl=").concat(encodeURIComponent(A))),{isAuto:e,callTarget:r,trigger:i,type:t,callMethod:y,package:u,popAfterAutoOpenFail:a,appDownLoadUrl:l,fallbackFailUrl:k,finalTargetUrl:A,clipboardCnt:v,timeout:g,isPrevent:function(){return S},params:x({},s,encodeURIComponent(A)),preventDefault:function(){S=!0}});if(P.protocol=d,O.isAndroid&&T.isDingTalk&&"taobao"===r&&(P.protocol="taobao"),P.path=c,$slk.getConf("bc_fl_src")&&(P.params.bc_fl_src=$slk.getConf("bc_fl_src")),(P.params||{}).bc_fl_src||(h=E(A),P.params&&h.bc_fl_src&&(P.params.bc_fl_src=h.bc_fl_src)),!e)for(var U in m||{})P.params[U]=m[U];return I(Pt)(P),P.params.source="ulk"===t?"slk_ulk":"intent"===t?"slk_intent":"slk_dp",P.toString=function(){var t,e;return"ulk"===P.type?(t={type:"ulk",path:f,params:{}},F[r]&&(F[r][ht]&&(e=St.scheme(P),t.params=x({},F[r][ht],encodeURIComponent(e))),p&&F[r][wt]&&(t.params[F[r][wt]]=encodeURIComponent(p))),St[t.type](t)):St[P.type](P)},P}var xt,p,Ot=s.evokeSuccess,Tt=s.evokeFail,Et=s.beforeEvokeFail,Ft=d.evokeSuccess,It=d.evokeFail,Rt=d.beforeEvokeFail;function Lt(e,t){var n=e&&e.timeout||dt,o=setTimeout(function(){document[xt]||(void 0!==p?document.removeEventListener(p,i):window.removeEventListener("pagehide",i),I(Et)(e),I(Rt)(),e.isAuto||"ulk"===e.type||(t?t(e):(I(Tt)(e),I(It)())))},n),i=function t(){o&&(clearTimeout(o),I(Ot)(e),I(Ft)(),void 0!==p?document.removeEventListener(p,t):window.removeEventListener("pagehide",t))};void 0!==p?document.addEventListener(p,i):window.addEventListener("pagehide",i)}function Dt(t,e,n){var e=1<arguments.length&&void 0!==e?e:function(){},n=2<arguments.length&&void 0!==n?n:function(){},o=document.createElement("script");o.src="".concat(t,"?t=").concat((+new Date+"").slice(0,-5)),o.onload=e,o.onerror=n,document.head.appendChild(o)}void 0!==document.hidden?(xt="hidden",p="visibilitychange"):void 0!==document.msHidden?(xt="msHidden",p="msvisibilitychange"):void 0!==document.webkitHidden&&(xt="webkitHidden",p="webkitvisibilitychange");var Mt=!1,Nt=[],jt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};window.my?t():(Nt.push(t),Mt||(Mt=!0,Dt("//appx/web-view.min.js",function(){for(;0<Nt.length;)Nt.shift()()})))};var Gt=function(e){var t=((window.$slk||{}).getConf()||{}).targetApp||{},n=t.androidPkgName,t=t.protocol,t=(n&&t&&(window.lib||{}).windvane||e(!1),{ios:"".concat(t,"://"),android:n});window.lib.windvane.call("Base","isInstall",t,function(t){e(!0)},function(t){e(!1)})},$t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};t&&window.lib&&window.lib.windvane&&window.lib.windvane.call("WVNative","openWindow",{url:t},function(t){e&&e()},function(t){n&&n()})},Bt=s.evokeSuccess,Kt=s.evokeFail,qt=s.beforeEvokeFail,zt=d.evokeSuccess,Ht=d.evokeFail,Jt=d.beforeEvokeFail;function Xt(t,e){var n,o,i,a,r,l;"location"===t.callMethod?(Lt(l=t,e),"complete"===document.readyState?location.href=l.toString():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&(location.href=l.toString())})):"alink"===t.callMethod?(Lt(a=t,r=e),(r=document.createElement("a")).setAttribute("href",a.toString()),r.setAttribute("target","_self"),r.setAttribute("ignore-callapp","true"),r.style.display="none",document.body.appendChild(r),r.click()):"miniapp"===t.callMethod?(i=t,jt(function(){O.isAlipayMiniProgram&&"taobao"===i.callTarget&&(i.preventDefault&&i.preventDefault(),window.my&&window.my.call&&window.my.call("isInstalledApp",{scheme:"taobao://",packagename:"com.taobao.taobao"},function(t){t.installed?window.my&&window.my.postMessage&&window.my.postMessage({type:"method",name:"openTaobao",params:{url:i.toString(),login:!0,h5Url:i.finalTargetUrl}}):i.fallbackFailUrl?window.location.href=i.fallbackFailUrl:(t=new CustomEvent("showHalfScreenDownloadPage"),document.dispatchEvent(t))}))})):"windvane"===t.callMethod?(n=t,o=e,Gt(function(t){t?$t(n.toString(),function(){I(Bt)(n),I(zt)()}):(I(qt)(n),I(Jt)(),n.isAuto||(o?o(n):(I(Kt)(n),I(Ht)())))})):(Lt(a=t,r=e),(r=document.createElement("iframe")).frameborder="0",r.style.cssText="display:none;border:0;width:0px;height:0px;",document.body.appendChild(r),r.src=a.toString())}function Wt(t,e){var n=document.createElement("input"),o=(n.value=t,n.style.position="absolute",n.style.width=1,n.style.height=1,n.style.opacity=0,n.readOnly=!0,n.id="copyInput",document.body.appendChild(n),document.getElementById("copyInput"));if(o.select(),document.execCommand("copy"))g("dpsSuc",e,"EXP");else try{window.navigator.clipboard&&window.navigator.clipboard.writeText(o.value).then(function(t){g("dpsSuc",e,"EXP")},function(t){g("dpsFail",e,"EXP")})}catch(t){P({success:!1,message:"SDK 内部错误",c2:"clipboard_err",c3:null==t?void 0:t.toString()})}setTimeout(function(){try{o&&o.parentNode&&o.parentNode.removeChild(o)}catch(t){P({success:!1,message:"SDK 内部错误",c2:"clipboard_removeChild",c3:null==t?void 0:t.toString()})}},100)}var Yt=function(t){var e,n={};if(n.activity_id=$slk.getConf("activity_id"),n.star_id=$slk.getConf("star_id"),n.slk_sid=$slk.getConf("slk_sid"),n.slk_gid=$slk.getConf("slk_gid"),n.platform=$slk.getConf("platform"),n.platform_version=$slk.getConf("platform_version"),n.request_success=$slk.getConf("request_success")||"",n.bc_fl_src=$slk.getConf("bc_fl_src")||"",t&&t.params&&_t(t.params)&&(n.isAuto=t.isAuto?1:0,n.call_target=t.callTarget||"",n.call_type=t.type||"",n.slk_t=t.params.slk_t||"",n.bc_fl_src=t.params.bc_fl_src||"",1==+(null==t||null==(e=t.params)?void 0:e.afc_route)&&(n.afc_route=1)),t&&t.trigger&&(n.trigger=t.trigger||""),t&&t.action&&(n.x=t.action.x||0,n.y=t.action.y||0,n.type=t.action.type||"",n.position=t.action.position||""),window.$slk_er_info){n.sdk_type="er";try{"ERROR"===window.$slk_er_info.mtopResult&&(n.er_mtopResult="error",n.er_mtopErrInfo=((window.$slk_er_info.mtopErrInfo||{}).ret||[])[0]||"")}catch(t){P({success:!1,message:"SDK 内部错误",c2:"$slk_er_info",c3:null==t?void 0:t.toString()})}}return n},Vt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"EXP",t=(t.t=+new Date,f(t));window.goldlog&&window.goldlog.record?window.goldlog.record("/starlink.sdk.".concat(e),n,t):(window.goldlog_queue&&window.goldlog_queue instanceof Array?window.goldlog_queue:window.goldlog_queue=[]).push({action:"goldlog.record",arguments:["/starlink.sdk.".concat(e),n,t]})},g=function(t,e,n){e=Yt(e);Vt(e,t,n)},Qt=window.screen&&window.screen.colorDepth,Zt=window.screen&&window.screen.width,te=window.screen&&window.screen.height,ee=window.devicePixelRatio,ne=navigator.connection||navigator.mozConnection||navigator.webkitConnection,oe=navigator.userAgent,ie=navigator.language;function ae(e){try{var t="unknown",n=(ne&&(t=ne.effectiveType),+new Date),o=e.finalTargetUrl||window.location.href,i=u("cna"),a={},r=(navigator.getBattery&&navigator.getBattery().then(function(t){a=t}),{width:Zt,height:te,colorDepth:Qt,devicePixelRatio:ee,networkType:t,ua:oe,timestamp:n,pageUrl:o,cna:i,BatteryLevel:a.level?100*a.level+"%":"",language:ie});window.lib&&window.lib.mtop&&lib.mtop.request({api:"mtop.taobao.afc.ddl.report",v:"1.0",data:{deviceInfo:JSON.stringify(r)},type:"get",dataType:"jsonp",ecode:0,AntiCreep:!1,AntiFlood:!1,timeout:1e4},function(){g("fingerPrintReportSuc",e,"EXP")},function(t){g("fingerPrintReportFail",e,"EXP")})}catch(t){P({success:!1,message:"SDK 内部错误",c2:"getFingerprint",c3:null==t?void 0:t.toString()}),g("fingerPrintReportFail",e,"EXP")}}var re=s.evoke,le=d.evoke;function ce(t){for(var e in t)this[e]=t[e]}ce.prototype.evoke=function(){var t,e=this.fallback,n=Ut(this);I(re)(n),I(le)(),n.isPrevent&&n.isPrevent()||(n.isAuto||("taobao"===n.callTarget?(t=n.clipboardCnt||function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=lt[t.callTarget]||{},n=e.dpsProtocol,o=e.dpsPath,i=e.targetUrlKey,e=e.dpsTargetUrlKey;if(n&&o&&e&&t.params&&t.params[i])return"".concat(n,"://").concat(o,"?").concat(e,"=").concat(t.params[i],"&slk_sid=").concat($slk.getConf("slk_sid"))}(n),Wt(t,n),ae(n)):n.clipboardCnt&&(Wt(n.clipboardCnt,n),ae(n))),Xt(n,e))};/login\.(m\.|wapa\.)?(taobao|tmall)\.com/.test(window.location.host);var U=function(t){return"true"===String(t)},se=["taobao","ltao","eleme"];function m(t){return((0<arguments.length&&void 0!==t?t:location.href).split("?")[0]||"").split("#")[0]}function de(t){t=0<arguments.length&&void 0!==t?t:window.location.href;return-1<t.indexOf("#")?"#".concat(t.split("#")[1]):""}var ue={},fe=function(t){ue=t},pe=function(){return ue};function ge(t){window.location.href="alipays://platformapi/startapp?appId=20000067&url=".concat(encodeURIComponent(t),"&startMultApp=YES")}function me(t){t&&(O.isPHA?$t(t):window.location.href=t)}function ve(t){return(((t.pageConfig||{}).openUiConfig||{}).openWidgets||[]).find(function(t){return t&&3==+t.type})||null}function he(t){return!!(t&&t.name&&t.protocol&&t.path&&t.targetUrlKey&&t.androidPkgName&&void 0!==t.ulkPath)}function we(){var t=E()||{},e=window.$slk_evoke_er_config||{},n=null===(e=e&&e.data&&e.data.openAppConfigDTO||{})||null==(n=e.targetApp)?void 0:n.name,o=Ce(null===e||null==(o=e.extra)?void 0:o.shortlinkUlkConfig,n),n=O.isIOS&&o&&!(null!==e&&e.shortlinkUlkUrl);return!!t.shareurl||!!t.ut_sk||!!t.visa||n}var v=function(e){if(yt(e))try{var t=document.querySelector("html").style.fontSize;return t?e/parseFloat(t)+"rem":e+"px"}catch(t){return P({success:!1,message:"SDK 内部错误",c2:"px2rem",c3:null==t?void 0:t.toString()}),e+"px"}return e},ke={styles:{position:"fixed",top:0,right:4,width:200,height:70,"background-repeat":"no-repeat","background-size":"100% 100%","z-index":"1000002"}},be={},_e=function(){return be},ye=function(t,e){be[t]=e},h=s.determineTargetURL,Ae={styles:{width:"100vw",height:"100vh","background-color":"rgba(0, 0, 0, 0.8)",position:"fixed","z-index":"1000002",top:0,left:0}},Ce=function(t,e){if("taobao"!==e)return!1;var n=window.navigator.userAgent;try{var o,i=(null==S||null==(o=S.get())?void 0:o.gidConfig)||{},a=null===i?void 0:i.sidebarGid,r=JSON.parse(t||"{}"),l=U(null==r?void 0:r.enabled),c=U(null==r?void 0:r.shortLinkUlkEnabled)||"gid_er_sidebar_0"===a,s=null==r?void 0:r.uaRegexAllowlist,d=!1;if(At(s)){s.length||(d=!0);for(var u=0;u<s.length;u++)if(RegExp(s[u]).test(n)){d=!0;break}}else s||(d=!0);return l&&c&&d}catch(t){return!1}},Se={rTracker:function(t){t.on("start",function(){g("start")}),t.on("setRequest",function(t){g("setRequest",t)}),t.on("getResponse",function(t){g("getResponse",t)}),t.on("evoke",function(t){g("evoke",t)}),t.on("evokeSuccess",function(t){g("evokeSuccess",t)}),t.on("beforeEvokeFail",function(t){g("evokeFail",t)})},rEvokeParamCommon:function(d){d.on("setEvokeParam",function(t){var e,n=t.params,o=E(),t=d.getConf("targetApp")||{},i=t.fixedParamsJson,t=t.protocolPassParams||[];if(i)try{e=JSON.parse(i)}catch(t){P({success:!1,message:"SDK 内部错误",c2:"setEvokeParam_JSON.parse",c3:(e=null)==t?void 0:t.toString()})}if(t&&t.length&&t.forEach(function(t){o[t]&&(n[t]=o[t])}),e)for(var a in e)n[a]=e[a];n.action="ali.open.nav",n.module="h5",n.bootImage=0,n.slk_sid=d.getConf("slk_sid"),n.slk_t=+new Date,o.backURL&&(n.backURL=o.backURL),o.packageName&&(n.packageName=o.packageName),o.appkey&&(n.appkey=o.appkey),d.getConf("slk_gid")&&(n.slk_gid=encodeURIComponent(d.getConf("slk_gid")));var r,l=d.getConf("serverParams")||{};for(r in l)n[r]=l[r];var c,s=pe()||{};for(c in s)n[c]=s[c]}),d.on("determineTargetURL",function(t){var e=m(t),n=E(t),t=de(t),o=E(),i=d.getConf("urlPassParams")||[];return d.getConf("slk_gid")&&(n.slk_gid=encodeURIComponent(d.getConf("slk_gid"))),i&&i.length&&i.forEach(function(t){o[t]&&(n[t]=o[t])}),"".concat(e,"?").concat(f(n)).concat(t)})},rAlimama:function(t){t.on("determineTargetURL",function(t){if(-1<m(t).indexOf("//s.click.taobao.com"))return t;var e=E(),n=m(t),o=E(t),t=de(t),e=(e.e&&e.type&&(o.e=e.e,o.type=e.type,e.tkFlag&&(o.tkFlag=e.tkFlag)),u("tkmb"));if("string"==typeof e&&0<e.length){var i={},a=e.split("&");if(a.length)for(var r,l=0;l<a.length;l++)a[l]&&(i[(r=a[l].split("="))[0]]=r[1]);var e=i.e,c=i.tkFlag;(!o.e||"uland.taobao.com"!==location.hostname&&"pre.uland.taobao.com"!==location.hostname)&&e&&(o.e=e,o.type=2,c&&(o.tkFlag=c))}return n+"?"+f(o)+t})},rTmallSearch:function(t){t.on("determineTargetURL",function(t){var e,n,o=m(t),i=E(t),t=de(t);return-1<o.indexOf("list.tmall.com")&&i.q&&(n=(e=i.q).split("+"),/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.exec(e)&&(i.q=n.map(function(t){return encodeURIComponent(t)}).join("+"))),o+"?"+f(i)+t})},rTmallEquity:function(t){t.on("setEvokeParam",function(t){var t=t.params,e=u("liuliangbao_track");e&&(t.track=e)})},rEvokeFailDefault:function(t){t.on("evokeFail",function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"taobao"===e.callTarget&&O.isAndroid&&O.isAlipay&&!O.isAlipayMiniProgram?e.fallbackFailUrl?ge(e.fallbackFailUrl):e.appDownLoadUrl&&(t=ct.android,ge(t)):e.fallbackFailUrl?me(e.fallbackFailUrl):e.appDownLoadUrl?me(e.appDownLoadUrl):"taobao"===e.callTarget&&me((t="",O.isIPhone?t=ct.iPhone:O.isIPad?t=ct.iPad:O.isAndroid&&(t=ct.android),t))})},rWechatUi:function(t){t.on("getResponse",function(t){var e,n=!1;try{var o=(t||{}).extra,i=void 0===o?{}:o;i.sdkConfig&&(e=JSON.parse(i.sdkConfig),n=U(e.wxGuidePop))}catch(t){P({success:n=!1,message:"SDK 内部错误",c2:"wechatUI_JSON.parse",c3:null==t?void 0:t.toString()})}o=(e||{}).wxGuidePopPic,i=void 0===o?"":o,o=ve(t);if(O.isWechat&&n&&i&&!o){var a,r=document.createElement("div");for(a in ke.styles)r.style[a]=v(ke.styles[a]);r.style.backgroundImage="url(".concat(e.wxGuidePopPic,")"),r.addEventListener("click",function(){try{r&&document.body.removeChild(r)}catch(t){P({success:!1,message:"SDK 内部错误",c2:"wechatUI_removeChild",c3:null==t?void 0:t.toString()})}}),document.body.appendChild(r)}})},rPrefetch:function(l){l.on("determineTargetURL",function(e){var n=!1;try{var o=(S.get()||{}).star_id,t=l.getConf("extra")||{},i=JSON.parse(t.prefetchAllowlist||"{}"),a=i.allowlist||[],r=i.starIds||[],n=0<(a.filter(function(t){return new RegExp(t).test(e)})||[]).length&&0<(r.filter(function(t){return String(t)===String(o)})||[]).length}catch(t){P({success:n=!1,message:"SDK 内部错误",c2:"prefetch_allowList_check",c3:null==t?void 0:t.toString()})}if(!n)return e;t=m(e),i=E(e),a=de(e);return i.preFetch||(i.preFetch=1),t+"?"+f(i)+a})},rTBCodeMask:function(t){t.on("getResponse",function(c){var a,r,s,d,l,t=ve(c);O.isWechat&&t&&(a="",s=r=!1,d=null,function(n){if(window.lib&&window.lib.mtop){g("taoCodeFetch",n,"EXP");var o="other",i=$slk.getConf("autoTargetUrl")||window.location.href;if(["404","80"].includes(String(n.star_id))?o="item":["85","86","87","88","89"].includes(String(n.star_id))&&(o="shop"),null!=h&&h.length)for(var t=0;t<h.length;t++)Ct(h[t])&&(i=h[t](i));return new Promise(function(t,e){lib.mtop.request({api:"mtop.taobao.growth.taopassword.generate",v:"1.0",data:{targetUrl:i||window.location.href,sourceType:o,cna:u("cna"),extra:JSON.stringify({})},type:"post",dataType:"jsonp",ecode:0,AntiCreep:!1,AntiFlood:!1,timeout:3e3},function(){t(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),g("taoCodeFetchSuc",n,"EXP")},function(t){e(t),g("taoCodeFetchFail",n,"EXP")})})}return Promise.reject(null)}(c).then(function(t){var e;null!=t&&null!=(e=t.data)&&e.result&&(a=null!=(t=null==t||null==(e=t.data)?void 0:e.result)?t:"",r=!0)}).catch(function(t){}),l=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!s){s=!0;var t,n,o,i,a,r=document.createElement("div");for(t in Ae.styles)r.style[t]=v(Ae.styles[t]);r.id="tcodeMask",r.innerHTML=(o="tmall"===(n=e).appEnName?mt:gt,i=(n=n||{}).tCode,a=n.themeColor,l=n.iconUrl,n=n.appName,'\n    <div style="\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding-top: '.concat(v(26),';\n    ">\n\n      \x3c!--section 0--\x3e\n      <div style="\n        display: block;\n        height: ').concat(v(20),";\n        width: ").concat(v(270),";\n        font-size: ").concat(v(20),';\n        color: #ffffff;\n        text-align: center;\n        font-weight: bold;\n        margin: 0 auto;\n      ">\n        去').concat(n||"",'APP继续完成操作吧\n      </div>\n\n      \x3c!--section 1--\x3e\n      <div style="\n        display: flex;\n        flex-direction: row;\n        height: ').concat(v(38),";\n        width: ").concat(v(270),";\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        margin: ").concat(v(30),' auto 0;\n      ">\n        <div style="\n          color: #ffffff;\n          font-size: ').concat(v(16),";\n          display: ").concat(1==+i?"block":"none",';\n        ">\n          <span>方式</span>\n          <span style="font-style: italic;">1.</span>\n        </div>\n        <div style="\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: ').concat(1==+i?"flex-start":"center",';\n          position: relative;\n          flex: 1;\n        ">\n          <img\n            src="').concat(ft,'"\n            style="\n              width: ').concat(v(38),";\n              height: ").concat(v(38),";\n              display: block;\n              margin-left: ").concat(v(15),';\n            "\n          />\n          <div style="\n            color: #ffffff;\n            font-size: ').concat(v(14),";\n            font-style: normal;\n            margin-left: ").concat(v(10),';\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n          ">\n            <span style="font-size: ').concat(v(12),';">点击右上角“...”</span>\n            <span>选择<em style="font-style: normal; color: ').concat(a||"#FFB902","; font-size: ").concat(v(15),';">在浏览器中打开</em></span>\n          </div>\n        </div>\n        <img \n          src="').concat(ut,'" \n          style="\n            width: ').concat(v(55),";\n            height: ").concat(v(52),";\n            position: absolute;\n            bottom: ").concat(v(30),";\n            right: ").concat(v(-30),';\n          "\n        />\n      </div>\n\n      \x3c!--section 2--\x3e\n      <div style="\n        flex-direction: row;\n        height: ').concat(v(38),";\n        width: ").concat(v(270),";\n        align-items: center;\n        justify-content: flex-start;\n        margin: ").concat(v(62)," auto 0;\n        display: ").concat(1==+i?"flex":"none",'\n      ">\n        <div style="\n          color: #ffffff;\n          font-size: ').concat(v(16),';\n        ">\n          <span>方式</span>\n          <span style="font-style: italic;">2.</span>\n        </div>\n        <div style="\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: flex-start;\n          flex: 1;\n        ">\n          <img\n            src="').concat(l||pt,'"\n            style="\n              width: ').concat(v(38),";\n              height: ").concat(v(38),";\n              display: block;\n              margin-left: ").concat(v(15),';\n            "\n          />\n          <div style="\n            color: #ffffff;\n            font-size: ').concat(v(14),";\n            font-style: normal;\n            margin-left: ").concat(v(10),';\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n          ">\n            <span style="font-style: normal; color: ').concat(a||"#FFB902","; font-size: ").concat(v(15),';">直接打开').concat(n||"",'APP</span>\n            <span><em style="font-style: normal; font-size: ').concat(v(12),';">可自动跳转至目标页</span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!--gif--\x3e\n      <img\n        src="').concat(1==+i?o:vt,'"\n        style="\n          width: ').concat(v(116),";\n          height: ").concat(v(228),";\n          margin-top: ").concat(v(28),';\n          display: block;\n        "\n      />\n\n      \x3c!--close button--\x3e\n      <div id="tcodeMaskCloseBtn" style="\n        margin: ').concat(v(65)," auto 0;\n        width: ").concat(v(75),";\n        height: ").concat(v(35),";\n        border: 1px solid grey;\n        border-radius: ").concat(v(18),";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: #ffffff;\n        font-size: ").concat(v(16),';\n      ">\n        关闭\n      </div>\n    </div>\n  ')),document.body.appendChild(r);var l=document.getElementById("tcodeMaskCloseBtn");l&&l.addEventListener("click",function(t){t&&t.stopPropagation(),r.style.display="none",document.body.removeChild(r),s=!1,g("taoCodeGuideMaskClose",c,"CLK"),e.onMaskClose&&e.onMaskClose(),clearTimeout(d),d=null}),g("taoCodeGuideMaskExp",c,"EXP"),d=setTimeout(function(){r&&(s=!1,r.style.display="none",r.parentElement!==document.body&&r.parentNode!==document.body||document.body.removeChild(r),e.onMaskClose&&e.onMaskClose(),clearTimeout(d),d=null)},3e3)}},ye("rTBCodeMask:showTBCodeMask",function(t){var e,n,o,i;r?(e=(o=(c||{}).targetApp||{}).cnName,i=o.openUiConfig,n=o.iconUrl,o=o.name,i=(i||{}).bgColor,Wt(a,c),l({tCode:1,appName:e,appEnName:o,themeColor:i,iconUrl:n,onMaskClose:(null==t?void 0:t.onMaskClose)||function(){}})):l({tCode:0,onMaskClose:(null==t?void 0:t.onMaskClose)||function(){}})}))})},rAfcRoute:function(C){C.on("setEvokeParam",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=C.getConf();if("taobao"===(null==e||null==(e=e.targetApp)?void 0:e.name))try{var n=(S.get()||{}).star_id,o=C.getConf("extra")||{},i=t||{},a=i.params.bc_fl_src,r=void 0===a?"":a,l=i.finalTargetUrl,c=void 0===l?window.location.href:l,s=JSON.parse(o.localRoutingConfig||"{}"),d=s.afcRouteConfig||{},u=Object.keys(d)||[],f=s.afcRouteStarIds||[];if(!U(s.afcRouteEnabled))return;var p=!1;if(0<f.length){for(var g=0;g<f.length;g++)if(String(f[g])===String(n)){p=!0;break}}else p=!0;if(!p)return;for(var m=!1,v=0;v<u.length;v++){var h=u[v];if("bizCode"===h){for(var w,k=!1,b=0;b<(d[h]||[]).length;b++)if(-1<(null==r?void 0:r.indexOf(null===d||null==(w=d[h])?void 0:w[b]))){k=!0;break}if(k){m=!0;break}}else if("hostAndPath"===h){for(var _,y=!1,A=0;A<(d[h]||[]).length;A++)if(-1<(null==c?void 0:c.indexOf(null===d||null==(_=d[h])?void 0:_[A]))){y=!0;break}if(y){m=!0;break}}else if("query"===h)if("break"===function(){for(var t=!1,e=E(c)||{},n=Object.keys(e),o=d[h]||[],i=0;i<o.length;i++)if(o[i].map(function(t){return-1<n.indexOf(t)}).indexOf(!1)<0){t=!0;break}if(t)return m=!0,"break"}())break}if(m)return;t.params.afc_route=1}catch(t){P({success:!1,message:"SDK 内部错误",c2:"afcRoute_enabled_check",c3:null==t?void 0:t.toString()})}})},rEvokeTbcode:function(p){p.on("getResponse",function(t){var u=M({},t),f=null==u||null==(t=u.targetApp)?void 0:t.name;ye("rEvokeTBCode:evokeClick",function(e){function n(){var t;p&&p.callFn&&(t=_t(e)?M({},e):{},p.callFn("rTBCodeMask:showTBCodeMask",t))}var o=(O||{}).isIOS;if(delete u.trigger,null!=e&&e.trigger&&(u.trigger=e.trigger),o&&"taobao"===f)try{var t,i=(u||{}).shortlinkUlkUrl,a=null==u||null==(t=u.extra)?void 0:t.shortlinkUlkConfig,r=JSON.parse(a||"{}"),l=Ce(a,f);if(U(null==r?void 0:r.enabled))if(!!l&&!!i){var c,s={};for(c in u)s[c]=u[c];s.params={slk_t:+new Date},s.isAuto=!1,s.type="short_ulk",s.callTarget="taobao",g("evoke",s,"CLK"),window.location.href=i}else{var d={targetUrl:(null==e?void 0:e.targetUrl)||p.getConf("autoTargetUrl")||window.location.href};e.trigger&&(d.trigger=e.trigger),p.callApp(M({},d))}else n()}catch(t){n(),P({success:!1,message:"SDK 内部错误",c2:"tcodeEvoke_canUseUlk.check",c3:null==(o=err)?void 0:o.toString()})}else n();g("tcodeMixEvoke",u,"CLK")})})}},Pe=s.start,Ue=s.setRequest,xe=s.precheck,Oe=s.getResponse,Te=d.ready;!function(){try{var t=document.cookie||"",e=window.location.href;window.location.search;if(!/\.tmall\.(com|hk)/.test(m(e))||-1<t.indexOf("_tb_token_")||-1<t.indexOf("_slk_skip_tbpass_"))return;document.cookie="_slk_skip_tbpass_=true; path=/; domain=.tmall.com",window.location.replace("https".slice(0,4)+"://jump.taobao.com/jump?target="+encodeURIComponent(e))}catch(t){P({success:!1,message:"SDK 内部错误",c2:"ios14SafariFix",c3:null==t?void 0:t.toString()})}}();var w,k,b,_,Ee=lt.taobao,y=E(),Fe=!1,A=null,Ie="normal",Re=!1,Le="auto",De=!1,Me=0,C="",Ne=u("cna")||"rnd".concat((16777216*(1+Math.random())|0).toString(16).substring(1)),je=O.platform,Ge=O.v,$e=O.isPC,Be="".concat(Ne,"_").concat((new Date).getTime()),Ke=[];function qe(t,e,n){var o;window.$slk_evoke_er_config&&!we()?(o=(o=window.$slk_evoke_er_config||{})&&o.data&&o.data.openAppConfigDTO||{},e(o)):function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};lib.mtop.request({api:"mtop.taobao.baichuan.smb.get",v:"1.0",data:t,type:"POST",dataType:"jsonp",ecode:0,AntiCreep:!1,AntiFlood:!1,timeout:1e4},function(){e(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},function(t){n(t)})}(t,function(t){t=t&&t.data&&t.data.openAppConfigDTO||{};e(t)},function(t){!function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(t&&t.ret||[])[0]||"";return-1<t.indexOf("FAIL_BIZ_FLOW_LIMIT")||-1<t.indexOf("FAIL_SYS_TRAFFIC_LIMIT")||-1<t.indexOf("FAIL_SYS_FLOWLIMIT")||-1<t.indexOf("FAIL_SYS_USER_VALIDATE")||-1<t.indexOf("FAIL_LOCAL_ERROR_FANG_XUE_FENG")}(t)?n(t):(b=!0,n({}))})}function ze(i){var t;t=function(t){try{var e,n,o=JSON.parse(JSON.stringify(t));if(b&&"function"==typeof i.trafficLimit)return void i.trafficLimit();for(e in i)"targetUrl"===e?i[e]&&(o.targetUrl=i.targetUrl):"targetApp"===e?!function(t){var e=!1;if("string"==typeof t)for(var n=0;n<se.length;n++)if(t===se[n]){e=!0;break}return e}(i.targetApp)?he(i.targetApp)&&(o.targetApp=i.targetApp):o.targetApp=lt[i.targetApp]:o[e]=i[e];if(!he(o.targetApp))return;if(b&&"taobao"===o.targetApp.name)return;if(T.currentApp===o.targetApp.name||T.targetIsCurrentApp(o.targetApp.uaRegex))return n=o.autoTargetUrl||window.location.href,void(window.location.href.indexOf(n)<0&&"taobao"===o.targetApp.name&&window.location.replace(n));new ce(o).evoke()}catch(t){P({success:!1,message:"SDK 内部错误",c2:"_callApp",c3:null==t?void 0:t.toString()}),Vt({msg:null==t?void 0:t.toString()},"responseErr")}},w?t(_):Ke.push(t)}function He(){b=w=!1,_={platform:je,platform_version:Ge.toString(),slk_sid:Be};var t,e=[],n=!window.ali_slk_config||void 0===window.ali_slk_config.enable_ulk||window.ali_slk_config.enable_ulk,o=y.slk_actid||null,i=y.bc_fl_src||"",a=y.slk_preview||"";window.ali_slk_config&&window.ali_slk_config.slk_gid&&((t=function(t){var e,t=(t||"").split("|");if(t&&(!Array.isArray(t)||t.length))return e={},t.forEach(function(t){/^gid_er_(er|normal)(_smb)?$/.test(t)&&(e.sdkModeGid=t),/^gid_er_evoke_ui_\d$/.test(t)&&(e.evokeUIGid=t),/^gid_er_af_pop$/.test(t)&&(e.afPOPGid=t),/^gid_er_sidebar_\d$/.test(t)&&(e.sidebarGid=t)}),e}(window.ali_slk_config.slk_gid)).sdkModeGid&&e.push(t.sdkModeGid),t.evokeUIGid&&e.push(t.evokeUIGid),t.afPOPGid&&e.push(t.afPOPGid),t.sidebarGid&&e.push(t.sidebarGid),S.set({gidConfig:t}));try{O.isIOS&&O.isAlipay&&(O.v.lt("11.0")&&"lazy"===Ie||O.v.gte("15.0"))&&(n=!1)}catch(t){P({success:!1,message:"SDK 内部错误",c2:"ios_alipay_check",c3:null==t?void 0:t.toString()})}y._force_star_id&&(A=y._force_star_id,S.set({star_id:A})),_.enableUlk=n,_.activity_id=o,_.star_id=A,_.bc_fl_src=i,_.slk_gid=e,I(Pe)(),function t(e){window.$slk_evoke_er_config?e():250<Me||(window.lib&&window.lib.mtop?e():setTimeout(function(){Me++,t(e)},20))}(function(){var t={activity_id:o,star_id:A,url:window.location.href,v:"2"},e={};a&&(e.slk_preview=a),Re&&(e.wua=window.ctl&&window.ctl.getUA&&window.ctl.getUA()||"",e.cna=Ne),0<at(e)&&(t.extraJsonParams=JSON.stringify(e)),I(Ue)(_),qe({pageCode:"",ua:window.navigator.userAgent,params:JSON.stringify(t)},function(t){for(var e in w=!0,t)_[e]=t[e];if(_.targetApp&&"taobao"===_.targetApp.name&&(_.targetApp.ulkRedirect=lt.taobao.ulkRedirect),_.request_success=!0,C&&(_.autoTargetUrl=C,C=""),!(null!=xe&&xe.length&&(I(xe)(_),S&&S.get&&S.get().block))){for(I(Oe)(_),I(Te)();0<Ke.length;)Ke.shift()(_);U(_.autoOpen)&&"normal"===Ie&&ze({isAuto:!0})}},function(t){if(w=!0,_.request_success=!1,!b){var e,n={autoOpen:!0,targetApp:Ee,autoTargetUrl:C||window.location.href};for(e in C="",n)_[e]=n[e]}for(I(Oe)(_),I(Te)();0<Ke.length;)Ke.shift()(_);g("responseFetchErr",_)})})}function Je(){Re?function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:8;return new Promise(function(n,t){window.ctl&&window.ctl.getUA&&window.ctl.getUA()?n(window.ctl):Dt("//g.alicdn.com/sd/ctl/ctl.js",function(){(function t(e){window.ctl&&window.ctl.getUA&&window.ctl.getUA()?n(window.ctl||{}):(0==e&&n(window.ctl||{}),setTimeout(function(){t(e-1)},256))})(e)})})}().then(function(){Xe()}):Xe()}function Xe(){if(!Fe){if(Fe=!0,"true"===y.slk_force_set_request?De=!0:"false"===y.slk_force_set_request&&(De=!1),$e||(T.isTaobao||T.isTmall)&&!De)return L.on=function(){},void(L.callApp=function(){});for(var t in L.on=function(t,e){At(s[t])&&s[t].push(e)},L.callApp=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"lazy"===Ie&&He(),t.isAuto=!1,ze(t)},L.callFn=function(t,e){_e()[t]&&_e()[t](e)},Se)Se[t](L);if(window.$slk_config_plugins&&Array.isArray(window.$slk_config_plugins))for(var e in window.$slk_config_plugins)window.$slk_config_plugins[e](L);L.on=function(t,e){var n=_,o=t,i="bizCallStackRegist";n={activity_id:null==n?void 0:n.activity_id,star_id:null==n?void 0:n.star_id,bizKey:o},Vt(n,i),"ready"===t&&w?Ct(e)&&e():At(d[t])&&d[t].push(e)},"normal"===Ie&&He()}}for(var We=document.getElementsByTagName("script"),Ye=0;Ye<We.length;Ye++)if(We[Ye].hasAttribute("src")&&-1<We[Ye].getAttribute("src").indexOf("/starlink/core/")){k=We[Ye],A=(A=k.getAttribute("id")||null)||((E(k.getAttribute("src"))||{}).id||null),S.set({star_id:A}),"lazy"===k.getAttribute("mode")&&(Ie="lazy"),"manual"===k.getAttribute("init")&&(Le="manual"),"true"===k.getAttribute("uasafe")&&(Re=!0),"true"===k.getAttribute("force_set_request")&&(De=!0);break}var L={init:function(t){"manual"===Le&&(t&&(t.autoTargetUrl&&(C=t.autoTargetUrl),t.protocolParams&&fe(t.protocolParams)),Je())},getConf:function(t){return"slk_gid"===t?_.slk_gid.join("|"):t?_[t]:_},setSlkGid:function(t){-1===_.slk_gid.indexOf(t)&&_.slk_gid.push(t)},resetSlkGid:function(){_.slk_gid.length=0;var t=(null==S||null==(t=S.get())?void 0:t.gidConfig)||{};t.sdkModeGid&&_.slk_gid.push(t.sdkModeGid),t.evokeUIGid&&_.slk_gid.push(t.evokeUIGid),t.afPOPGid&&_.slk_gid.push(t.afPOPGid),t.sidebarGid&&_.slk_gid.push(t.sidebarGid)}};window.$slk=L,window.$slk_evoke_er_config&&we()&&(c=null==(c=window.ali_slk_config)||null==(c=c.slk_gid)?void 0:c.replace(/gid_er_er(_smb)?/g,"gid_er_normal"),window.ali_slk_config?window.ali_slk_config.slk_gid=c:window.ali_slk_config={slk_gid:c}),"auto"===Le&&Je()}();
